# 華中科技大学硕士学位论文

# 基于光电信号的人民币清分鉴伪技术研究

学位申请人： 张巍巍学 科 专 业： 通信与信息系统指 导 教 师： 尤新革 教授答 辩 日 期：2015 年 5 月 18 日

# A Thesis Submitted in Partial Fulfillment of the Requirements for the Degree of Master of Engineering

# Notes Sorting and Anti-counterfeit Technology Research based on the Light and Electrical Signal

Candidate : Zhang Weiwei

Major : Signal and Information Processing

Supervisor : You Xinge

Huazhong University of Science & Technology Wuhan 430074,P.R.China May, 2015

# 摘  要

随着我国经济的快速增长，现金流通量快速增长以及民众对纸币质量的高要求，具有纸币清分能力的 A 类点钞机、清分机、ATM 机等金融机具随之产生。纸币清分是对纸币的面向、面额、新旧、残缺、真伪进行识别，从而抑制破损纸币、假币的流通，迄今为止，很多不适宜流通纸币的挑选工作都是靠人工，筛选结果不理想。然而我国纸币清分的研究工作才刚刚起步，值得依赖的鉴伪和清分器具较少，再加上假币制造技术的日益发展，因此，纸币清分的研究工作具有重要意义，它是国家防伪领域的重要课题，关系到国家的金融安全，具有重要的理论研究意义和广泛的应用前景。

本文主要从光电信号对纸币清分鉴伪技术进行了研究，光信号主要包含紫光、荧光、红外、紫外，电信号主要包含弱磁信号以及厚度信号。本文提出了一套基于光电信号的纸币清分鉴伪方案，利用码盘信号以及 CD4051 分时服用，精准采集多路有效信号，通过分析纸币原始信号和噪声特性，设计了基于软件的信号去噪算法；针对信息量过大，提出了基于PCA 的特征提取方法；针对相似且不稳定信号的区分，提出了基于小波的奇异特征提取方法；为了提高清分准确度，综合考虑所有特征，提出了基于SVM 的分类方法。此方法不仅可适用于人民币，还可以适用于其余币种。

本文在人民币上进行试验，并与传统方法进行比较，提出的基于光电信号的纸币清分鉴伪方法，采集的数据量少、信息量大，处理速度快，而且对不同程度的新旧和残缺的纸币都有很好的适应性，提高了纸币的清分鉴伪别率。本文中所述的方案和算法现已实现商业化量产，并应用于多家大型银行。

关键词：纸币清分；鉴伪；光学信号；磁信号；多光谱图像；特征提取；分类器

# Abstract

With the rapid growth of China's economy，the cash in circulation grows so fast and people tend to have high demands on the quality of banknotes ,which result in the arise of Class-A bill counter, sorter, ATM machines and other financial equipments that have sorting and distribution capacity.Currency Sorter mainly classifies the new and used bills, face direction , denomination and authenticity of the bills, thus inhibiting the circulation of damaged paper and counterfeit money.Most financial institutions are currently screening bills by manual operations, which can be labor-intensive and time-lasting, and the sorting results are not so satisfying. As the study of the bill sorting has just started in our country, there are just a few trustworthy counterfeiting and sorting machines. Coupled with the growing counterfeit manufacturing technology, the research of banknotes sorting is so important that it is related to the country's financial security and has great theoretical significance and broad prospects for use.

In this paper，we mainly studied banknotes counterfeiting and sorting technology based on optoelectronic signal. Among them,the optical signals mainly consist of purple light, fluorescent light, infrared light and ultra violet, and electrical signals mainly consist of weak magnetic signal and thickness signal.This paper came up with a banknotes counterfeiting and sorting scheme based on optoelectronic signal.The use of encoder signal and  CD4051 time division multiplexing can help collect several valid signals accurately.By analyzing the original banknote signals and the characteristics of noise, this paper designed a software-based signal denoising algorithm. Aiming at the overload of information, this paper put forward a PCA-based feature extraction method. On account of the division of some similar and unstable signals,   a singular feature extraction method bases on wavelet was proposed. In order to improve the accuracy of sorting, this paper presented a SVM classification method by overall considering all the features.This method can not only identify the orientation of RMB accurately, it can also be applied to other currencies.

The proposed banknote counterfeiting and sorting method based on optoelectronic signals was examined and tested on certain platform with RMB. Compared with traditional methods，it has faster processing speed , less amount of collected data and more information.What's more, it has a good adaptability for different types of banknote images, and a higher recognition rate of banknote orientation. The schemes and algorithms described in this paper have been achieved commercial production, and applied in a number of large banks.

Keywords: Banknote sorting; Counterfeiting; Optical signal; Magnetic signal;Multi-spectral image; Feature extraction; Classifier

# 目  录

摘  要Abstract II

# 1  绪论

1.1 引言. (1)  
1.2 课题研究背景及意义 2)  
1.3 金融机具研究现状及前景 (3)  
1.4 本文主要研究内容及章节安排 (7)

# 2 金融机具设计原理概述

2.1 人民币防伪特征简介 8  
2.2 机器辨伪原理. (8)  
2.3 清分机具的结构原理 (21)  
2.4 清分系统的软件工作原理 (25)  
2.5 本章小结. . (31)

# 3  数据采集及预处理

3.1 光电信号的采集 (32)  
3.2 数据预处理. (36)  
3.3 本章小结. (38)

# 4  光电信号特征提取与清分

4.1 光电信号特征提取 (39)

4.2 基于 SVM 的分类器 (43)

4.3 纸币清分算法. (44)

4.4 本章小结. (51)5  系统实现与性能测试5.1 系统整体框架的实现 (52)5.2 系统工作流程. . (53)5.3 清分结果与讨论 . (55)6  总结与展望. . (57)致  谢 (58)参考文献 . . (59)附录1 攻读学位期间申请专利目录 . (62)

# 1  绪论

# 1.1 引言

纸币是指以纤维或者塑料造成的、可以用来做等价交换的货币，它方便携带，由政府发行并强制使用的货币符号。它制造成本低，不同于金属货币，避免了流通过程中的磨损，由于它极小的体积与质量，所以便于保管携带和运输，它的出现，为人们的日常生活带来了方便，极大的繁荣和发展了国民经济。随着近年来我国经济持续、快速的增长，进出口贸易额的急剧增大，金融货币种类和金额交易量也随之增加，国际化进程日益加快，人民币的假冒伪造行为也越来越猖獗，面临国际、国内双重假冒伪造风险。同时，信息技术、高端印刷技术的快速发展助推了伪造手段呈现高技术化、高仿真等趋势。

为了促进经济的发展，央行于一九四八年十二月发行了中华人民共和国的第一套纸币，一直到到 2009 年，一共发行了5 套纸币。纸币作为等价交换的媒介，很多不发份子，看到了其中的利益，结合科学技术，制造假币。随着造假技术的发展，市面上出现诸如冠字号以“OX35”、“HB90”、“C55H”、“M3W9”、“HD90”等开头的高仿真假币，甚至还出现用真币和高仿伪币完美拼接、肉眼难辨的缝隙、能骗过大部分机器检测的变造币，这些高仿真假币、变造币是传统鉴伪仪器所不能鉴别的，因此对国家和人民造成巨大的财产损失。

假币伴随的纸币的发行、流通，纸币鉴伪就随即而生；纸币鉴伪的方法有很多种，一看二摸三听四测，肉眼观看纸币的外观图案、颜色，摸纸币的纹理、毛糙程度，听纸币甩动的声音，或者采用工具检测。

考虑工作效率问题，人工筛选可流通纸币，效率太低，浪费人力物力。仅仅是鉴伪功能的金融器具，远远不能满足银行的需求，比如清分版本、新旧、残缺等，具有清分功能的A 类点钞机、纸币清分机、ATM 机应运而生。具有清分功能的金融器具大大提高了银行业务的效率。在国内，随着ATM机在全国大范围内的覆盖使用，银行业务对于纸币清分，显得非常重要，需要将适宜流通的纸币挑选出来，以供ATM机使用。

具有清分功能的的金融机具一般具备如下功能：

(1) 计数，统计纸币张数  
(2) 累加，统计纸币总面额  
(3) 鉴伪，鉴别检验纸币的真伪；  
(4) 清分纸币面额、纸币方向、纸币版本、币种等功能；(5) 清分纸币新旧残缺的可流通性功能；  
(6) 具备冠字号识别及存储功能。

A 类点钞机、纸币清分机、ATM 机，是人工智能[1]的产物，它的软件设计体现了机器学习[2]的过程。纸币清分机，涉及到机械结构、电机控制、模数转换、信号采集及数据预处理、图像识别 、字符识别 以及光电信号处理等技术。

本文对纸币清分系统设计中的信号采集、鉴伪及清分关键技术进行研究和探索。

# 1.2 课题研究背景及意义

中国是一个正在高速发展的发展中国家，占了全球人口的约五分之一。人民币在国内流通量巨大，在国外很多地方也在发挥着它的作用。二零零五年年底国内市场纸币现金交易额是2.4 万亿，到二零一一年十一月月底，人民币流通量已经到达4万多亿。在这短短的几年里，我国纸币的现金交易额增长了近一倍[5]。

人民币的正常流通保证了我国社会的稳定和发展，假币的出现不仅危害了党、国家和人民的基本利益，还会造成经济的不稳定，从而造成一序列连锁危害。若想社会的持续稳定发展、高新科技的高速发展，“打假”必须时时刻刻进行着，以构建和谐的社会。

然后随着经济全球化，中国的国际地位的显著提升，假币不仅有来自国内假币作坊生产的假币，还有来自国际组织的假币。假币作坊生产的假币，只是谋取自身利益，其造假手法相对拙劣，肉眼或者机器相对比较容易识别；来自国际组织的假币，他们不仅仅为了自身利益，更是为了打垮中国经济，他们掌握了更为先进的造假技术，从假币纸质、图像印刷、光学信号、磁信号等各个方面，都能达到以假乱真，不仅能迷惑人眼，还能骗过某些机器的检测。自主研发高端金融机具

假币横行，主要有以下几个原因：

1 只有有现金支付才可能出现假币，采用更先进的支付技术，可以减少假币的流通量。尽可能减少纸币流通，尽可能采用储蓄卡信用卡、购物卡、网银支付宝等支付方式进行消费。

2 验钞鉴伪环节存在较大漏洞。这主要分为两个部分：人为验钞存在缺陷，是因为政府开展的宣传力度不够，政府相关部门需要教会普通民众如何辨别假币，教会人民火眼识假币最有效最简单的方法，并讲这些方法印刷称小册子，免费发送，广大人民没有掌握这种技能是因为宣传的局限性，必须加大宣传力度；机器验钞存在缺陷，是因为开发技术没有与“假币”俱进，需要一批高技术的开发者来研发与时俱进的点验钞机。

3 针对金融安全，需要制定更为合理的法规，加强打击力度。相关条例对人民币的管理做出明确规定，严格处理制造、大量使用假币的案件。

随着银行业的高速发展，纸币流通数额巨大，如果金融机具只能鉴伪，那么远远不能满足需求。银行机构需每天都需要把大量的纸币进行清分，清分新旧残缺、整理朝向面额版本，大量的纸币，将不适宜流通的纸币（比如残缺、鉴伪特征无损、法轮功币、涂鸦纸币、过于破旧的纸币）进行号码登记、集中销毁；将适宜流通的纸币，整理好（统一面额、朝向、版本）之后扎把，以待再次流通。这就要求银行的金融器具必须还具备清分的功能。

目前，世界上具有清分能力的金融机具主要有 A 类点钞机、清分机、ATM 机。然而国内高端金融机具的市场，多年来一直都是依赖进口，德国捷德、日本光荣等几家国外公司占据着全球绝大部分市场，他们的产品不仅在外形、功能方面很人性化，在清分能力上也性能卓越；虽然近几年国内有些厂家开始致力于高端金融机具的研发工作，然而核心模块——信号采集模组目前主要依赖进口，成本昂贵，且升级不便。更为主要的原因是，国外金融机具可能监控了我国的金融数据，从而影响了金融安全。自主研发纸币清分机具，能保证我国的金融安全，提高我过的金融核心竞争力。

# 1.3 金融机具研究现状及前景

目前，国内市场上流通使用的金融器具有以下几类：

（1）验钞仪，其图片如下，是一种小型验钞设备，可手持，其大小约等于手掌大小，比较方便携带。它主要从简单的光学信号、磁信号鉴伪，具有语音播报、自动休眠功能。

![](images/a90c9ae2203e241e6265bacc0abd5882c6b58033cc4f76e87776f7389fb69251.jpg)  
图 1-1 验钞仪

（2）点验钞机，其图像如下。点验钞机不同于验钞仪，验钞仪一次只能检验一张纸币的真伪，而点验钞机一次可以检验一沓纸币的真伪；而且其鉴伪技术设计到荧光、红外、紫光，其磁信号检测不仅仅是定性检测，还能定量检测，具有更高的鉴伪能力。目前点验钞机分为三个等级，分别是A类点钞机、B类点钞机、C 类点钞机。A 类点钞机包含图像模块，其鉴伪能里最强，还具备一点的清分能力，包含冠字号识别功能，C 类点钞机鉴伪能力最弱，其成本最低。

![](images/8eadd35456ca77f9cc77ab7da0956f24e191c0c024917483c7ce66003e4b3cdb.jpg)  
图 1-2 点验钞机

（3）清分机，其图片如下，清分机是一种高端金融机具产品，它能对纸币进行面值清分、真假清分、版本清分、残缺清分、新旧清分等。清分机具有极高的光学信号、磁信号鉴伪能力，还涉及到图像识别。它挑选可流通的纸币，讲不适宜流通的纸币集中销毁，保证了纸币的正常流通。清分机在进行纸币清分工作时，需先采集纸币信号，对其进行分析，不同的纸币从不同的出钞口出来，从而实现了纸币的清分。

![](images/b5761c1ddfcd9d573eb1d9c14c4a1dea7f2366cf23cac21471b7ed8343e5d5a3.jpg)  
图 1-3 纸币清分机

（4）ATM 机，其图片如下，它是 Automatic Teller Machine 的缩写，自动卖货机的意思，中文全称是自动取款机。它是目前市面上流通的最高级的机电一体化装置，它实时连接互联网，可以识别金融卡片，实时查账、存取款、交易。在存款过程中，涉及到纸币清分鉴伪技术，其鉴伪技术涉及到紫光、红外、紫外、磁信号、图像鉴伪，图像鉴伪过程中涉及到图像处理算法、字符识别。

![](images/b7d961d2cb8bb0e4c5ccd5edd6c509957a4cd88972a71353bd25f34df26a3b7a.jpg)  
图 1-4 ATM 机

这四种金融机具中，验钞仪、B 类 C 类点验钞机为低端产品，没有纸币清分能力，或者清分能力较弱；A类点钞机、清分机、ATM机为高端产品，具有较强的纸币清分能力。它们主要用了如下鉴伪技术：

(1) 磁性油墨鉴伪：纸币印刷的油墨具有一定的磁性。人民币的冠字号区域具有一定的弱磁性，通过将冠字号部分磁化加强，增强其磁性，然后通过磁信号传感器，检测接收到的信号，检测有无磁性；人民币安全线部分具有一定的磁性，纸币制造总局在印刷纸币时，在其安全线区域加入了特有的磁编码，纸币通过此行检测仪，会根据磁编码产生特定的周期性序列[6]，检测这周期性序列的特征，可以用来作为纸币特征，用来区分真伪、面额。磁性防伪特征是全球普遍采用的一种防伪特征[7]，其采集、识别相对较为简单。  
(2) 紫外荧光检测：印刷人民币时，在纸币的特定区域假如有荧光效应的物质，用特定波长的紫光外光照射，会产生另一种特定波长的荧光。  
(3) 红外光检测：印刷人民币的的纸质较为特殊，用特定波长的红外光照射到第五套人民币背面，真币背面后侧图案消失，而假币无变化。  
(4) 多光谱图像鉴伪技术：由于真假纸币的纸质及印刷油墨的不同，在不同光谱下的图案可能有不同，通过对不同光谱下的纸币图像进行扫描处理，可以鉴定纸币真假、区分面额、朝向、版本等。  
(5) 磁图像鉴伪技术：通过磁图像采集仪采集到纸币的磁图像[8]，再经过图像处理，可以得到纸币的磁信息特征，从而鉴伪。  
(6) 声音识别技术：由于真假假币纸质不可能完全相同，抖动纸币发出的响声也不同，通过声音识别纸币真假及新旧。此方法主要用于人工肉眼识别，鉴伪仪器由于有环境噪声、电机运转等噪声，干扰太大，鉴伪结果不太理想，较难得到比较理想的结果。

信号采集、预处理，提取有效特征特征，有的采用模式识别算法[9]，将特征向量化，设计分类器的；也有采用动态规划方式对纸币磁信号进行清分、鉴伪的。这些方法都是在算法改进的基础上探索对磁信号的处理手段，以提高识别率[10]。

到目前为止，我国的金融机构有20 多万家，然而清分机具配备率不足 $10 \%$ ，当金融机构网点见识到清分机具的便利之后，未来几年，其需求量会高速增长；随着2011 年新标准的正式实施，推动了金融机具行业的技术革命，大大推广了清分机具的知名度；随着银行系统对人民币管理的越来越规范以及人们对纸币的要求，国内各大银行先后纷纷用高端清分机具慢慢替代传统鉴伪仪器，这为清分清分机具在国内的发展，提供了良好的契机。

由上述数据可以看出，纸币清分机具前景一片大好；奈何国内高端清分机具的市场，一直都是国外品牌的天下，德国捷德、日本光荣的设备占据着全球绝大部分市场，他们的产品不管是在机械结构，还是软件功能稳定性都处于世界领先地位；虽然近几年国内有些厂家开始致力于高端金融机具的研发工作，然而核心模块—信号采集模组目前主要依赖进口，成本昂贵，且升级不便。更为主要的原因是，国外金融机具可能监控了我国的金融数据，从而影响了金融安全。自主研发纸币清分机具，能保证我国的金融安全，提高我过的金融核心竞争力。

# 1.4 本文主要研究内容及章节安排

本文在对点钞机鉴伪[11]技术全面概述的基础上，重点分析了人民币磁信号硬、软件处理的方法，旨在寻找磁信号处理电路最佳参数方案，研究人民币磁信号规律，用以鉴伪、清分[12]。本文还详细阐述了主控系统的实现方案。

第一章介绍了课题来源、研究背景以及发展前景，阐述了假币产生原因以及“打假”措施，通过多方数据表明清分机研究工作的重要性，然后简明扼要的陈述了清分机鉴伪清分的主要方法。

第二章主要介绍了人民币的防伪特征及配套的鉴伪方法，然后介绍了清分系统的结构原理和软件工作原理，结构为功能而设计服务。

第三章介绍了光学信号、磁信号其其余鉴伪信号采集、识别和鉴伪。从微处理器的ADC 通道分配、信号采集、数据预处理，为下一步的数据分析作准备。

第四章提出了基于 PAC 的特征提取跟基于小波分解的特征提取，有效的提取了纸币的特征；然后用 SVM 分类器，实现纸币清分。

第五章主要介绍了主控系统的实现，介绍了一个完整清分机必须配合的外设模块以及工作时多个模块之间的信息交互；最后给出清分机的系统测试数据。

第六章对本文作了总结，阐述了论文主要贡献，并展望纸币清分技术的发展趋势。

# 2  金融机具设计原理概述

# 2.1 人民币防伪特征简介

现行流通人民币有1元、5元、10 元、20元、50元 、100元。人民币采用的纸币比较特殊，其防伪特征表现在下面几个方面：

（1） 印刷人民币的纸币非常特殊，在紫外或红外光照射下，会产生特定波长的光；  
（2） 人民币币采用凸凹印刷技术；  
（3） 人民币采用磁编码技术；  
（4） 人民币纸质里含有红蓝彩色纤维丝，一种可以肉眼观察、一种可以在特定波长光下可见；  
（5） 特殊油墨印刷，主要包含多光谱油墨、磁性油墨，多光谱油墨主要主要使用了红外油墨、磁性油墨，红外油墨在红外下图像跟可见光不同，磁性油墨会有弱磁性，荧光油墨在特定光下产生荧光效应。  
（6） 人民币上使用的水印有白水印和黑水印。1999 版、2005 版的100 元、50元呈现毛主席图像的黑色水印，20元纸币呈现荷花形状的黑水印，10 元为月季花黑水印，5 元为水仙花黑水印。在纸币正面左侧的空白处，其若隐若现的阿拉伯数字为白水印。

# 2.2 机器辨伪原理

清分机具辨伪，是因为机器上配备了大量光电信号传感器。下面一一解说这些传感器的工作原理。

# 2.2.1 光学信号鉴伪

纸币清分机上有大量光学信号传感器，主要包含红外透射传感器、紫外荧光传感器、红外反射传感器。这些传感器信号，不仅能够用来告知纸币当前位置，还能用作鉴伪。

# 2.2.1.1 红外透射鉴伪

根据贝尔吸收定律，设 $\mathrm { I _ { 0 } }$ 为红外发射光强度，I 为透过纸张的光强度，T 为纸张的厚度，a 为吸收系数(与光的波长、纸的材质和油墨材质有关)。I 与 $\mathrm { I } _ { 0 }$ 的关系如公式所示[13]：

$$
I = I _ { 0 } e ^ { - \alpha T }
$$

由公式可知，吸收系数越大、纸张越厚，透光强度 I 就越小。另外，透光强度还与票面反射、油墨颜色等因素有关，人民币红外透射特性在固定人像白水印处和其余部分不同。经测试，白水印处的红外透光率较假币高，而其余部分较假币低。

人民币在纸张、油墨等制币材料上加工工艺要求严格，再加上凹版印刷、磁性油墨等各种防伪技术的施加，其密度和吸光率比一般假币都高。基于这种特点，可在密闭条件下，采用红外光对纸币进行照射，纸币的另一面用光敏三极管接收透过来的光线，将光线强弱的差别用电流或者电压反映出来，就可以用来区分真假币了。

人民币固定人像白水印处的透光率较高，可用来区分真假币的水印。其检测原理同上，检测装置如图 2.3 所示，红外发光管采用 5MM 外径 940NM 波长的发光二极管，接收管采用光敏三极管，上下正对，间距 5MM 至7MM。

![](images/75c220692d54e3248a6b9d4dbfd523eeb4ebb4795189890352aacd01f2585901.jpg)  
图 2-1 红外鉴伪装置示意图

# 2.2.1.2 紫外鉴伪

1852 年斯托克斯指出：特定波长的光，撞击在特殊物质上，可以产生另一种波段的光 [14]。研究表明，一般激发光谱波长较短，其能量较高，发光光谱波长较长，被激发光照射的物质必须能洗手激发光，并能发射能量较低的光谱，这就是荧光鉴伪的理论依据[15]。

纸币的印刷纸张由精心培育的专用棉麻纤维配制而成[16]，未经漂白、不添加色料[17]。这种纸张经紫外光照射，荧光效应十分微弱甚至没有。由于制纸材料贵重，且配料为国家机密，市面上的普通或者高仿假币都不能做到和人民币的纸张完全一样，都经过不同程度的漂白和其他处理，当特定波长的紫外光照射时，就会产生非常明显的荧光效应。真币荧光无法穿透，而假币荧光能够穿过去且强度高。经测量，普通纸张荧光反应大约是真币荧光反应的十倍以上，根据这点的不同来鉴别真伪。

点钞机通用的荧光接收传感器为硅光电池，硅光电池比较稳定、频率特性好、光谱范围窄，但会受到环境光源的影响，因此在使用时需要先通过滤光片，使透光波长范围在我们需要的荧光光谱区间。

# 2.2.1.3 红外反射鉴伪

红外反射通常用来检测透明胶纸或具有反光较强特点的各类胶纸。因胶纸不仅仅用来粘贴被撕破的纸币，还常常被犯罪分子利用，制作拼接假钞，达到以假乱真的目的，为了防止这样的假币流通，银行工作人员希望能够抓出用胶纸粘贴的纸币，一则回收旧币，一则通过机器挑拣再经人工辨认，识别真伪。红外反射与红外透射的原理相同，光敏三极管接收的是红外反射光，带有胶纸的纸币反射光强高，没有胶纸的反射光强低。红外发光管的发光角度为 $2 0 ^ { \circ }$ °，发射管和接收管角度恰当，才能够接收到较强的红外反射信号，如图 2.4 所示。

![](images/51b5c7bfc04eed6fdc968ca76514856c6d0cb19618c82f4c1ffab02eeacd64ac.jpg)  
图 2-2 红外反射鉴伪示意图

# 2.2.1.4 荧光鉴伪

油墨中加入荧光物质就形成了荧光油墨，按照颜色分为无色荧光油墨和有色荧光油墨，无色荧光油墨荧光效果强，可供机读。“中国人民银行”正下方紧邻处在波长为 $4 0 0 \mathrm { n m }$ 至 $4 0 5 \mathrm { n m }$ 的紫外灯照射下，有矩形区域的荧光亮块出现，亮块中显示面额信息，是用无色荧光油墨印刷的；另外，纸币背面人民大会堂吊顶五角星周围大片区域有彩色荧光油墨，如图2.2 所示，前者的荧光反应比后者强很多。近几年来，荧光油墨已经比较普遍，防伪力度较低，但能够识别部分粗糙烂制的假币且该特征机读性较强，市面上通用点钞机一般都具有检测无色荧光油墨的功能[18]。

![](images/ac2cf9d65c32c6fbd0ec035b534d3ac29d7880333f481a871cb4e57cae4d191e.jpg)  
图 2-3 纸币荧光图

荧光反应的检测装置包括紫外光管、滤光片和硅光电池，紫外光的发光角度为$1 5 ^ { \circ }$ ，滤光片的透光波长在 $4 4 0 \mathrm { n m }$ 至 $5 5 0 \mathrm { n m }$ 之间，滤除可见光以及反射回来紫外光[19]。

荧光油墨的荧光效应还可以采用波长为 $9 4 0 \mathrm { n m }$ 的红外光。红外管使用寿命较长，且容易被吸收，所激发荧光效应强。因此，我们可采用红外光管激发荧光效应，此时滤光片将有所不同，需采用可滤除红外反射光、吸收荧光光谱的两片玻璃。

# 2.2.2 磁信号鉴伪

纸币具有弱磁信号，因为采用磁性油墨印刷。磁性油墨主要成分是铁、钴、镍等磁性元素，最好的磁性颜料其主要成分是铁的氧化物，例如 $\mathrm { F e } _ { 2 } \mathrm { O }$ 等。磁性油墨具有不同的颜色，常见磁性较强的有黑色和棕色两种。

在防伪领域，通过将磁性油墨按照一定的规律或者图案印刷在票面，就能够发挥真假鉴别的作用，如同添加了特定编码或者加密信息，用一定的识别系统就可以读取其中隐含的信息。但目前磁性油墨的防伪大多限制在“定性”和强弱判断，检测虽然简单，但可靠性较低，不利于进一步鉴伪，且容易仿造。

印刷有磁性油墨的票面以一定的速度通过磁敏传感器，传感器中的线圈切割磁感应线产生电流，进而将记录的信息以电压或者电流的形式输出。其典型的应用就是点钞机[20]对人民币两个区域磁性油墨的检测。目前流通的人民币磁性分布如下表。

表 2-1 磁信号分布  

<html><body><table><tr><td>套别</td><td>面额</td><td>磁性分布</td></tr><tr><td rowspan="2">第四套</td><td>100元</td><td>冠字号区域、水印及安全线区域有磁性</td></tr><tr><td>50元</td><td>冠字号区域、水印及安全线区域有磁性</td></tr><tr><td rowspan="3">第五套</td><td>100、50元</td><td>冠字号区域、安全线以及大会堂左侧部分有磁性</td></tr><tr><td>20元</td><td>冠字号区域有磁性</td></tr><tr><td>10、5元</td><td>冠字号区域有磁性</td></tr></table></body></html>

人民币冠字号的磁性油墨有棕色和黑色两种，冠字号码总共 10 位，前四位为棕色，其余为黑色，由上所述可知，边磁磁性较强，检测容易，信噪比高，易于辨别。05 版（99 版没有）人民币背面中间偏左小片区域有红色磁性油墨，磁性较弱，抗噪性能差，一维磁信号只能做定性判断，用以区分 100 元、50 元的版本。

![](images/14afba437c7d1ed3eb6827a88e0ddf775e440e3c4236312853ba9fdaf95c21cd.jpg)  
图 2-4 纸币磁信号分布图

如上图，中间黑色长竖条为安全线，其磁信号称之为安全线磁信号，安全线磁信号；原始的安全线信号称之为模拟中磁；模拟中磁经过比较器后，称之为正脉冲或者负脉冲。左侧最大的黑色区域为中小磁区域，其磁信号称之为中小磁。右侧黑色横条的背面为冠字号区域，冠字号区域所具有的磁性叫边磁。

# 2.2.2.1 安全线鉴伪

安全线第一次应用在英格兰银行于一九四零年三月二十九日发行的一版英镑钞票上。在此之前，安全线就已经用于一些票证之类的文件上，它具有柔韧性强、耐弯折的优点。随后几十年，这种安全线在纸币防伪领域的推广，很快得到公认，马来西亚、土耳其、法国、挪威、中国等国家也先后采用。

安全线加入磁性物质，可具有多种特征，主要包括：磁码条数、强度，以及众多磁码的分布规律，磁性特征还包括剩磁比例和矫顽力的比例。前者可通过传感器检测和信号处理电路得到，适合小型鉴伪设备；而后者检测极为困难，需要借助大型专业设备才能检测，用于民间金融鉴伪的实用性差。另外，磁码间隔、宽度信息因与设备的走纸速度有关，所以在特定的速度下，也可作为编码特征用来鉴伪。

安全线的磁信号，采集之后，得到的是模拟中磁信号；将模拟信号进行切分之后，得到正负脉冲。因此，安全线鉴伪主要分为模拟中磁鉴伪、正脉冲鉴伪、负脉冲鉴伪。

# 2.2.2.2 模拟中磁鉴伪

模拟中磁是纸币安全线区域经过长磁头，由于纸币运动，切割磁感线，产生电流。纸币安全线区域的磁性，并非一沉不变，编码密集的地方磁性强，编码稀疏的地方磁性弱，随着纸币的走动，处理器采集安全线区域从上到下的电流，呈现为周期性的波形序列。相同版本面额的纸币波形大概相似，不同面额的纸币差别较为明显。仅以 2005 版人民币真币为例，其模拟中磁如下：

[m:8 3.32V CUr8 3.32V CurB: -1.64V CurB: - 1.64V IΔY1: 4.96V IΔY1: 4.96V Umaxi11=.3.56U1. Uminf11=.280mU -maxl1=.3.52/L.. Jmini11..320mV 100元模拟中磁 50元模拟中磁 [N:8 3.32V [UFHB 3.32V CurB: - 1.64V CurB: - 1.64V IΔY1 : 4.96V 1ΔY1: 4.96V wwwhmmld wwrwhmah .11=..3_.12.L... ..mii1.=..3Am. Umaxt=.3_16u.._..Jmint.=.440mU 20元模拟中磁 10元模拟中磁

由上图可知，不同面额的纸币，其波形特征不同。统计大量纸币，对实验数据进行统计，发现纸币波形拥有如下规律：

表2-2 磁信号规律  

<html><body><table><tr><td colspan="2">币值</td><td>测量组数（每 组20张）</td><td>磁码规律</td></tr><tr><td colspan="2">5</td><td>5</td><td>15 个特定规律的脉冲波，间距均匀，有一定的周期 性</td></tr><tr><td colspan="2">10</td><td>5</td><td>16 个特定规律的脉冲波，间距均匀，脉冲宽度有宽 有窄，周期性变化</td></tr><tr><td colspan="2">20</td><td>5</td><td>24个特定规律的脉冲波，脉冲宽度和间距有宽有窄， 周期变化</td></tr><tr><td colspan="2">50</td><td>5</td><td>16 个脉冲波形，规律为"高低低低低"（可反过来看)， 周期变化，脉宽和间距均匀</td></tr><tr><td rowspan="2">100</td><td>99版</td><td>5</td><td>16 个脉冲波形，规律为"高高低高低”可反过来看)，</td></tr><tr><td>05版</td><td>5</td><td>周期变化，脉宽和间距均匀</td></tr><tr><td rowspan="2">假币</td><td>50</td><td>5</td><td>信号微弱，与噪声信号混叠在一起，跟真币磁编码 特征不同</td></tr><tr><td>100</td><td>5</td><td>同上</td></tr></table></body></html>

本着以真鉴伪的思想，在模拟中磁鉴伪时，首先需要定性检测，有没有磁信号；若有磁信号，还必须提取其特征，校对当前纸币的磁信号特征是否与响应面额的纸币磁信号特征相同，若不同，则应该判定为假币。

# 2.2.2.3 正负脉冲鉴伪

正负脉冲波形是将模拟中磁的波形，输入一个比较器，从而得到一序列“01”序列。理想状况下，2005 版人民币真币正脉冲波形如下：

表 2-3 正负脉冲的规律  

<html><body><table><tr><td>版本面额</td><td colspan="18">波形示意图</td></tr><tr><td colspan="2" rowspan="4">2005版100</td><td colspan="11" rowspan="2"></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td colspan="10"></td></tr></table></body></html>

![](images/5d23131ce7df9aaedd7b46c73e54e87c72c212a5655de953494a250c2e73fe56.jpg)

处理器采集到正脉冲信号之后，首先需要判断有没有这些脉冲；其次判断脉冲数据是不是正常的，脉冲数量太多或者太少说明该张纸币可能有问题；最后判断这些脉冲之间的比例是否符合条件。

![](images/f426c1b9e1f433ae92d245ec475d36994174c9690bdc3e85c9236c3e68c4905f.jpg)  
图 2-6 正负脉冲鉴伪流程

负脉冲的来源，跟正脉冲一样，都是模拟中磁经过比较器，得到的“01”电平序列，只是比较器的阈值不同。鉴伪方法原理，跟正脉冲一样。

# 2.2.2.4 中小磁鉴伪

人民币人民大会堂的左侧，采用了磁性油墨印刷，因此具有一定的磁性。然后，并不是所有的版本、所有面额的至此均有中小磁。2005 版的100 元、50 元有中小磁，能被磁头采集到；其余版本面额的人民币没有中小磁。采集到中小磁波形如表：

表2-4 边磁波形  

<html><body><table><tr><td>2005版100元</td></tr></table></body></html>

![](images/ca979f84cc45a308b132bb5e868deeec934642e0e4090986c451c910a7a0f7ca.jpg)

2005 版50 元、100 元纸币的模拟中磁，不是很稳定，特征也不太明显，而且 50元跟 100 元的波形很相似，中小磁只能用来定性的分析。可以取来区分 50 元、100元的版本是2005 年的还是 1999 年的。

而且，中小磁只可能有一边有，如果清分机左右两侧的中小磁磁头均采集到了中小磁，那么当前纸币为假币。

# 2.2.2.5 边磁鉴伪

边磁所在位置为纸币冠字号区域，因为人民币冠字号的印刷油墨非普通油墨，其油墨具有弱磁性。冠字号码总共10 位，前四位为棕色，其余为黑色。边磁磁性较强，检测容易，信噪比高，易于辨别。2005 版跟1999 版所有面额的人民币，边磁信号相似。其波形如下：

![](images/de00f20c6ee19459629c23797705a36b820f973105c8494747761cd1f1b6235c.jpg)  
图 2-7 边磁信号

由于边磁信号长度较短且脉冲数量较少，故不好提取特征，也只能用来做定性的判断有无磁性。

由于边磁信号非常稳定，而且只在冠字号区域有，因此可以用来做真币方向判断。

# 2.2.3 厚度鉴伪

真币的厚度在一定范围内，纸币通过压力传感器，压力传感器采集到的压力值

应该也在一定范围内。

![](images/d11ef26a60d54d2a18e22de090cb0385a2500c4c5c850acf27c4ff87df6e512e.jpg)  
图 2-8 厚度鉴伪示意图

厚度检测只能判定当前纸币受否有异常，厚度不正常，那么当前纸币一定有问题，要么连张夹张，要么是粘贴币或者纸币厚度有问题；如果厚度正常，并不能判定当前纸币为真伪。

# 2.2.4 声音鉴伪

纸币在通过清分机时，在过钞通道摩擦、碰撞会发出声音。由于真币与假币纸质不同，因此真币与假币在摩擦时发出声音不一样，真币声音比较清脆，假币声音比较沉闷。

设计合理的电路，将纸币摩擦的声音进行去噪、发大，然后采集纸币摩擦的声音，将数据滤波、量化、提取特征，鉴定真伪。声音清脆或者沉闷，最主要的差别是声音频率不一样，将采集到声音数据进行频谱分析，真币频谱在在一个较高的区间。

然而，由于纸币清分机在运行的时候，除了环境噪声（比如正在清分纸币的工作人员谈话声音、脚步声），还有设计电路时模拟信号与数字信号引入的噪声；最不可忽略的是，清分机在运行时，捻钞轮、电机转动的声音，这些引入的噪声毫无规律，其幅度可能比有效信号本身都要高，而且不规律、不稳定，随着工作环境、时间而变动。此种方法多为国外早期所使用，由于分辨率不是很高，现在逐渐弃之不用。

# 2.2.5 图像鉴伪

图像鉴伪主要分为磁图像鉴伪和多光谱图像鉴伪。

磁图像鉴伪，必须先要采集到纸币磁图像。通过一组多个磁头得到的纸币磁图像，利用图像处理的方法寻找票面磁特征信息，是未来处理磁信号的趋势，目前应用还不够广泛。因为纸币磁图像包含的信息量主要是磁信息，虽然它采集到磁信息很全面，但是由于图像质量不好，处理起来，较为复杂；而且磁信息可以通过更简单的方式进行处理。

多光谱图像鉴伪是指，纸币在一定波段的照射逛下，真假币的图像可能会有所差异。因为真币采用红外幽默、荧光油墨等特殊油墨印刷，在特定波长的光照下，某些图案可能会肉眼不可见。第五套人民币100元在三种光谱下的图像如下：

表 2-5 多光谱图像  

<html><body><table><tr><td>光源</td><td>正面图像</td><td>反面图像</td></tr><tr><td>2005版100元纸币，在 白光下的图像</td><td>中国 长银行 100 106244709 福</td><td>100</td></tr><tr><td>2005版100元纸币，在 特定波长的红外下的图像</td><td>447098 100</td><td></td></tr><tr><td>2005版100元纸币在特 定波长的紫光下图像</td><td>100</td><td>100</td></tr></table></body></html>

纸币在走钞通道传输时，路线和角度都略有差异，再加上由于 CIS 发光元件和感光元器不一致导致的亮暗不均的问题，致使图像质量差别较大，不利于进一步处理。针对这种情况，图像用于鉴伪之前需要经过三步预处理，即亮度补偿、边缘检测和倾斜校正。其具体步骤如下：

(1) 亮度补偿[21]。一般图像采集通过一个像素点一个像素点采集拼接而成，由于器件制作工艺的原因，采集的图像会有条纹，影响图像识别。采集一张完全干净的白纸，我们发现横向亮度差别明显，而纵向完全相似，从而出现条纹状。采用亮度均衡的方法可以解决此问题[22]。

(2) 边缘检测[23]。纸币图像的边缘检测的就是纸币区域定位，原始扫描图像中确定出纸币图像的位置，由于我们最初得到的纸币图像是一个矩形，对边平行，通过直线或者平行线检测，确定纸币区域位置。  
(3) 倾斜校正。清分机具采集得到的纸币图像，一般不是方方正正的，而有一定角度的倾斜拉伸，对于图像识别难度较大；而对于横平竖直的图像识别，其难度大大降低，因此我们需要在原始纸币图像定位之后，进行倾斜校正，然后进行尺寸标准化。

图像经过上述预处理后后，就可以根据标准化图像寻找固定坐标处的冠字号码，先经过粗略定位，再精定位得到目标冠字号区域图像。紧接着，我们要进行字符分割、标准化和匹配[24]，并最终得到识别结果。

多光谱图像鉴伪与识别，不仅能得知纸币真伪消息；还能得知纸币的面额、版本号、新旧程度、残缺破损、法轮功币等消息。

# 2.2.6 网络鉴伪

网络鉴伪主要指网络冠字号鉴伪。每一台纸币清分，开机之后，自动连接到网络，自动读取网络数据；网络数据中包含疑为假币的一序列冠字号，并将这些数据存在处理器的flash 里面。

纸币清分机在鉴伪时，通过 CIS 图像采集模块采集到的纸币图像，能轻易的得到当前纸币的冠字号[25]；将当前纸币的冠字号，与疑为假币的冠字号相比较，如果符合的话，那么就应该提高鉴伪等级，对纸币进行较为严格的鉴伪，以保证鉴伪清分的可靠性。

# 2.3 清分机具的结构原理

A 类点钞机、清分机、ATM 都具有较强的清分能力。A 类点钞机只有一个出口，当其工作在清分模式时，碰到不同类别的纸币，则刹车；清分机具有多个出钞口，根据清分功能，不同纸币进入不同的出钞口；ATM 机内部主要有两个接钞口，主要清分纸币的新旧残缺，将适宜流通的纸币放入一个接钞口，将不适宜流通的纸币放入另一个接钞口。下面以纸币清分机为例来阐释清分的工作原理。

相对于点钞机，纸币清分机是一种更加先进的点钞机，它在上个世纪末从西方市场流入我国，又称为货币清分机、钞票分选机，是一种专门用来 清点、分选纸币的金融器具[26]。纸币清分机就是为了现钞整点、清分、提高整洁度、挑选 ATM用钞而存在[27]。纸币清分机具有很强的实时性，它对纸币的很多特征识别要求极高的准确性。清分机功能草图结构如下：

![](images/662d5886ccdf171a37801cbb71909cfa284022be7a1ebfdb06f49edd581dd144.jpg)  
图 2-9 清分示意图

纸币放在入钞台上，入钞台检测到有纸币，处理器控制捻钞轮转动，将钞票一张张卷进点钞机内部，钞票经过传感器阵列，处理器采集信号；信号才进完毕之后，进行数据处理；在纸币到达拨片之前，处理器计算得到纸币信息，根据机器工作模式，决定当前纸币将要进入哪一个出钞口；处理器通过控制拨片，将纸币送入相应的出钞口。

具有清分能力的金融机具，其结构一般包含：入钞部分、过钞通道传感器区域、清分拨片、出钞部分。下图是“出钞口 $+$ 退钞口”为 $^ { \cdot \circ } 1 { + } 1$ ”的小型清分机，其结构图如下：

![](images/e81087dd1298db72b7ddd9ab3e624abcf9f7c071954677be91ac948816f7f313.jpg)  
图 2-10 清分机结构图

如上图，标号 1 为入钞台，标号 2 为入钞轮，标号 3 为分钞轮，标号 4 为阻力轮，标号 5 为压钞轮，标号 6 为上过钞通道传感器，标号 7 为 CIS 采图传感器，标号 8 为清分机外壳，标号 9 为磁信号传感器，标号 10 为光学信号传感器，标号 11为转动轮，标号 12 为下过钞通道传感器，标号 13 为转动轮，标号 14 为接抄飞叶，标号15 为退钞口，标号 16 为出钞口。

纸币放在入钞台（标号1）上，入钞轮（标号2）将纸币卷入机器，分钞轮（标号 3）、阻力轮（标号 4）跟压钞轮（标号 5）（可调节高度）一起，将纸币一张张的捻开，单张纸币经过上过超通道传感器（标号 6），处理器通知 CIS 采图传感器（标号 7）采集纸币多光谱图像，转动轮（标号 11、标号 13）带动纸币向着磁信号传感器（标号 9）和光学信号传感器（标号 10）移动，信号采集完毕后，处理器处理该张纸币数据，在纸币到达下过钞通道传感器（标号 12）时，处理器控制拨片，将纸币导向相应的出钞口（标号 16）或者退钞口（标号 15）。

# 2.3.1 进钞部分工作原理

进钞部分主要入钞台、入钞轮、分钞轮、压力轮、压钞轮。将一沓纸币放置在入钞台上，入抄传感器检测到入钞台上有纸币，微处理器控制入钞轮转动，将最靠近入钞轮的纸币送到分钞轮与压力轮之间，分钞轮转动，将最靠近入钞台的纸币捻离其余纸币。进钞部分的捻钞轮将纸币一张张捻开，这样清分机具就能一张张的对纸币进行信号采集、分析、鉴伪、清分。

压力轮用来调节压钞轮的高度，压钞轮的高度会影响分钞轮与阻力轮之间的间距，将这个间隙调节到合适的值，能很好的捻开纸币。

# 2.3.2 过钞通道传感器区域

过钞通道传感器区域是清分机的核心区域之一。传感器区域，位于过钞通道内，表面镶嵌了大量的光电信号传感器，主要有红外反射传感器、红外透射射传感器、紫外荧光传感器、CIS 采图传感器、磁信号传感器。

被捻开的单张纸币经过传感器区域时，纸币先经过上过钞通道传感器，上过钞通道传感器检测纸币到来之后，开启光学信号采样；纸币到达红外透射传感器时，开启 CIS 采图跟磁信号采集；纸币离开红外透射传感器时，关闭光学信号采样，经过一定时间后，关闭磁信号采样。CIS 采集的图像数据交由 DSP 处理。

磁信号采集结束后，处理器分析所有光学信号跟磁信号，得到纸币的光学信息跟磁信号信息，等待图像处理模块将图像鉴伪结果发送给处理器后，综合鉴伪。

过钞通道好坏，直接决定了钞票鉴伪清分能力的好坏。机械结构中，最难做好的便是过钞通道。钞票被捻开后，经过过钞通道内的传感器，到达出钞口。在此过程中，纸币的各种信号，均会被处理器采集到，然后进行数据处理。如果过钞通道不顺畅，造成纸币歪邪、纸币拉伸、速度不均，都会对采集到的信号产生重要影响，从而影响鉴伪结果，甚至会卡钞、损坏纸币。

过钞部分，主要是搓钞轮带动纸币，纸币经过转动轮，最后到达出钞口或者退钞口。这些轮子必须有较大且均衡的摩擦力，保证能搓动纸币，且纸币不会歪斜；

转动轮的速度必须高于搓钞轮，这样可以拉开前后纸币的间距，方便清分机进行数据采集。

# 2.3.3 清分拨片工作原理

在纸币到达清分拨片之前，处理器必须处理完成采集的数据，综合给出纸币清分信息；在纸币到达清分拨片时，处理器控制清分拨片波动，将纸币引导向正确的出钞口。

清分拨片拨动的时机必须刚刚好，如果拨片拨动过早，影响上一张纸币，有可能打碎上一张纸币；如果拨片波动过晚，那么错过了清分时机。

# 2.3.4 出钞部分工作原理

纸币到达出钞口时，接钞飞叶转动，引导纸币进入出钞口。如果接抄飞叶转动过快，则会引起“飞钞”现象；如果飞叶转动过慢，纸币会撞击到飞叶上，可能会引起纸币堵塞。接抄飞叶的转动速度必须跟点钞速度相对应。

接钞口、出钞口都安装有传感器。当入钞台、出钞口接钞口均无纸币时，表明一次点钞结束；再次点钞时，清分机把数据清零，从头开始。

# 2.4 清分系统的软件工作原理

纸币清分机工作流程可分为三个部分来介绍，分别为主程序运行流程，信号采集流程及信号处理（鉴伪或清分）流程。

主程序运行流程包括自检和走钞。为了提高点钞机的可靠性，避免因存放不当或人为损坏造成的识别错误，每台点钞机在启动时都需要首先运行自检程序，对照事先存储的标准参数，如有不同将报警提示，由维修人员排除故障；自检通过的点钞机，当有纸币遮盖进钞台的反射式对管传感器时，MCU 收到脉冲信号会启动大、小电机和吸尘风扇，纸币顺利通过走钞通道，得到清点和鉴伪，当纸币进入出钞口时，MCU 收到由出钞红外对管发出的脉冲信号，点钞机停止并发送清点结果到显示板进行显示，其流程如下图所示。

![](images/a89cdc1787fabce54f4bdf9529b08e20286054cd700aa273bd97a02bc318541b.jpg)  
图 2-11 清分机工作流程图

# 2.4.1 开机自检

开机自检是清分机启动时，对自身各个电路模块、外设进行检查测试。一般是读取管脚电平，如果跟正常电平不符合，说明电路或者机器出了故障，这时有必要报警并给与显示。显示屏上告知故障模块，等待用户处理。

自检是必须的。自检通过，才能保证清分机的正常运行，鉴伪清分的结果才具有可靠性。

# 2.4.2 入钞检测

纸币放在入钞台上，微处理器检测到纸币，控制电机转动。其电路图如下：

![](images/5b97e137ad90e4f6aac7e80e558cc592cbf8dc4bb7ffee4475641744566cc192.jpg)  
图 2-12 入钞电路

J6 接入红外反射传感器，PB9 持续给高电平，当入钞台上没有纸币挡住时，PF6，检测到的是0 电平；当有纸币挡住时，PF6 接收到的是高电平。当纸币挡住入钞台时，根据纸币到入钞感器的距离，处理器接收到的反射信号强度不同，其曲线如下：

![](images/d99d79ff89b248932767587455b81171aa05978f70c1bc3e701e7b7450aa0b53.jpg)  
图 2-13 反射强度与距离关系

由上图曲线可知，当纸币紧贴入钞传感器时，反射信号最强，随着距离的增加，反生强度慢慢减小。将纸币放置在入钞台上，纸币到入钞传感器，总有一些缝隙，当纸币较少时，质量比较小，缝隙更大，反射强度比较弱。

当处理器检测到入钞传感器反射强度较大时，机器便认为纸币到来，控制电机转动。如果这个阈值设置的过大，那么我们就感觉传感器不灵敏，当入钞台上纸币较少，离入钞传感器距离较大，便无法触发电机转动；当我们设置的阈值过小时，一些电流噪声可能触发电机转动。因此，我们需要对反射强度设置一个合理的阈值，既保证机器的灵敏度，又保证了抗噪性能。

如果将入钞检测的接收管脚 PF6 设置为浮空输入的话，那么它默认的高电平就是TTL 电平，高于 2v 时，才认为是高电平，这样会觉得入钞检测不灵敏。我们需要把PF6 设置为模拟输入，用作 ADC 输入管脚。

# 2.4.3 信号采集时机

清分机的过钞通道较长，如果纸币一进入过钞通道就开始采集数据的话，那么就采集到了大量的无用的数据。采集数据、会消耗大量的 CPU 资源；而且在 CPU处理数据的时候，由于过多的垃圾数据，再次消耗CPU 资源，从而影响性能。因此，我们需要比较准确的知道，什么时候开始采集有效的数据，什么时候该结束数据采集。

在清分机结构里，在光学传感器、磁信号传感器的前后都装有一对红外透射管，分别表明信号采集的开始与结束。其电路图如下：

![](images/8333b78c98d26a63a2f50d1194aafa7c903bebfc7845cf69d10198a4dbf154cd.jpg)  
图 2-14 光信号处理

ui 为红外透射传感器接收到的信号，经过电路的放大处理之后，经 uo 交给处理器处理。以下主要介绍红外鉴伪信号的处理电路，为一级同相放大负反馈电路。输入信号ui，输出uo，二者大小关系由以下式子得出。

$$
\begin{array} { r l } & { u _ { 2 } = u _ { 1 } , i _ { 1 } = 0 } \\ & { } \\ & { u _ { 1 } = u _ { i } } \\ & { } \\ & { ( u _ { o } - u _ { 2 } ) / U R _ { 1 } = u _ { 2 } / R _ { 3 } } \\ & { } \\ & { u _ { o } = ( 1 + U R _ { 1 } / R _ { 3 } ) u _ { i } } \end{array}
$$

硅光电池将接收到的荧光，转化为电流，经过 ${ \bf R } _ { 1 }$ 转化为电压，放大电路对该电压放大，接近于线性放大，透光较强时，脉冲偏低，反之偏高。过钞与不过钞的波

形如下：

![](images/958afc262efe6c305085dcbf712e6dd84079e02c60a18539e42df158e3c5cea6.jpg)  
图 2-15 红外透射信号

当处理器的该管脚监测到一个下降脉冲，并且这个脉冲的幅度跟持续时间都符合要求的话，那么我们就认为纸币快要到达传感器区域了，这是可以开始采集信号。与此同时，处理器还需要告知 CIS 图像采集模块，通知其开始采集图像，用作图像鉴伪。

当纸币的所有信号采集完（紫外信号、红外信号、厚度检测、宽度检测、磁信号等）毕时，会经过另外一对出钞红外对管，此时表明各种光学信号、磁信号采集完毕。此时，处理器停止采集信号，并将采集到的信号进行处理，初步判定得到其面额、真伪、版本信息。

# 2.4.4 清分时机

微处理器通过控制清分拨片，引导纸币走向不同的出钞口。拨片时刻，不宜太早，也不宜太晚。如果太早的话，影响上一张的纸币的清分，可能上一张纸币正在通过拨片区域，这是若拨动清分拨片，会引起打钞卡钞，损坏纸币；如果拨片拨动的过完，那么纸币早已到达出钞通道或者过钞通道，拨片没有起任何作用。那么应该何时拨动清分拨片呢？

![](images/c0c43ab7b5a3b2c88632e15c557a2f40f3e4a55fe07a022d78a3e5222eb6046f.jpg)  
图 2-16 清分拨片波动过晚，引起卡钞

处理器控制清分拨片波动，从发出命令到清分拨片响应动作，需要一定的响应时间；这个响应时间不随着清分机的点钞速度改变而改变。但是，纸币到达出钞口通道的时间会随着清分机点钞速度的加大而减小。

纸币光学信号、磁信号采集完毕后，到达采集结束传感器时，主控部分的微处理器开始处理得到的数据。

清分传感器也是一对红外透射计数管，分左右两边。左右两边的红外对管，同时监测对管电平变化，监测到符合条件下降脉冲时，表明纸币到达清分传感器，此时处理器必须综合主控结果跟 CIS 图像鉴伪结果，给出一个综合判决结果；在根据工作模式，主控模块延时一定的时间（这个时间随着点钞速度而变化，速度越大，时间越短；点钞速度速度越小，时间越长），控制清分拨片，决定纸币的去向。

# 2.5 本章小结

本章先介绍了人民币的防伪特征，然后根据人民币的防伪特征提出了常见的鉴伪方法；紧接着从机械结构上了，阐释了纸币清分的机械原理；最后解释了清分系统的软件工作原理。

# 3  数据采集及预处理

# 3.1 光电信号的采集

采集信号时，我们遇到了两个问题：

（1） 信号数量太多，ADC 通道数量不够，为了能够采集完整全部信号，我们采用 CD4051,同时采集多路信号，节省了管脚数量。  
（2） 每一路信号的数据量太大，我们采用码盘信号精准定位，只在信号有效区域内采集信号，这样保证采集的信号全部为有效信号。

# 3.1.1 CD4051 采集全部信号

纸币清分机上，信号很多，包含了红外反射信号（检测胶带纸）、红外透射信号（计数或者测纸质）、紫外荧光信号（检测荧光效应）、纸币厚度传感器（检测纸币厚度，防止假币或者夹张）、磁信号传感器（中磁信号、左右边磁、左右中小磁），每种光学信号均有六路，模拟中磁又被划分为模拟中磁跟正负脉冲；除此之外，还有码盘信号，用来计算纸币宽度。

一共有三十多路信号。然而 STM32 序列芯片，一般只具有三个 ADC 模块，每个模块对应的通道不完全重叠。下图是 STM32F103CDE 数据手册中的总框图的左下角，图中可以看出有8 个外部ADC 管脚分别接到了3 个ADC 模块，有8 个外部ADC管脚只分别接到了 2 个ADC 模块，还有 5 个外部ADC 管脚只接到了 ADC3 模块，这样总共是21 个通道。

![](images/c6dd5afbb3fab330e16cad6eafe869e6884b70cf89afa150c6954f30beff6cd4.jpg)  
图 3-1 STM32 的 ADC 模块

下表是这些 ADC 管脚与每个 ADC 模块的对应关系，表中可以看出 ADC1 还有

2 个内部通道，分别接到内部的温度传感器和内部的参照电压：

表 3-1 通道与管脚对应关系  

<html><body><table><tr><td></td><td>ADC1</td><td>ADC2</td><td>ADC3</td></tr><tr><td>通道0</td><td>PA0</td><td>PAO</td><td>PA0</td></tr><tr><td>通道1</td><td>PA1</td><td>PA1</td><td>PA1</td></tr><tr><td>通道2</td><td>PA2</td><td>PA2</td><td>PA2</td></tr><tr><td>通道3</td><td>PA3</td><td>PA3</td><td>PA3</td></tr><tr><td>通道4</td><td>PA4</td><td>PA4</td><td>PF6</td></tr><tr><td>通道5</td><td>PA5</td><td>PA5</td><td>PF7</td></tr><tr><td>通道6</td><td>PA6</td><td>PA6</td><td>PF8</td></tr><tr><td>通道7</td><td>PA7</td><td>PA7</td><td>PF9</td></tr><tr><td>通道8</td><td>PB0</td><td>PB0</td><td>PF10</td></tr><tr><td>通道9</td><td>PB1</td><td>PB1</td><td></td></tr><tr><td>通道10</td><td>PCO</td><td>PCO</td><td>PCO</td></tr><tr><td>通道11</td><td>PC1</td><td>PC1</td><td>PC1</td></tr><tr><td>通道12</td><td>PC2</td><td>PC2</td><td>PC2</td></tr><tr><td>通道13</td><td>PC3</td><td>PC3</td><td>PC3</td></tr><tr><td>通道14</td><td>PC4</td><td>PC4</td><td></td></tr><tr><td>通道15</td><td>PC5</td><td>PC5</td><td></td></tr><tr><td>通道16</td><td>温度传感器</td><td></td><td></td></tr><tr><td>通道17</td><td>内部参照电压</td><td></td><td></td></tr></table></body></html>

如果一路信号占用一个 ADC 通道的话，ADC 通道数量不够用；因此我们需要让一个ADC 通道能够采集多路信号。为此，我们需要用到一个时分复用的芯片，我们选用 CD4051。

CD4051 相当于一个单刀多选开关，开关接通哪一通道信号，由地址码 ABC 来决定。比如说 $\scriptstyle \mathrm { P l } = 0 \mathrm { X } 0 6$ ，这样CD4051 就选择的是 6 号（二进制 110）通道了。

表 3-2 单刀八选开关 4051 真值表  

<html><body><table><tr><td>INH</td><td>A</td><td>B</td><td>C</td><td>选通通道</td></tr><tr><td>0</td><td>0</td><td>0</td><td>0</td><td></td></tr><tr><td>0</td><td>0</td><td></td><td>1</td><td>1</td></tr><tr><td>0</td><td></td><td></td><td></td><td></td></tr><tr><td>0</td><td>0</td><td></td><td></td><td></td></tr><tr><td>0</td><td>1</td><td></td><td></td><td></td></tr><tr><td>0</td><td>1</td><td></td><td></td><td></td></tr><tr><td>0</td><td>1</td><td></td><td>0</td><td>6</td></tr><tr><td>0</td><td>1</td><td>1</td><td>1</td><td>7</td></tr><tr><td>1</td><td>X</td><td>X</td><td>X</td><td>None</td></tr></table></body></html>

采用 CD4051，用微处理器的三个普通 IO 口，ADC 的一个通道便可以采集 8 路模拟信号并将之量化。纸币清分机的30 多路信号，采用CD4051 分时复用的话，完全足够。

# 3.1.2 采集有效信号

纸币到达入钞信号传感器之后，纸币将会进入传感器区域。传统金融机具的做法是：纸币到达入钞信号传感器是，同时开始采集光学信号、磁信号等信号；纸币达到出钞传感器，停止采集所有信号。

然而这个过程中采集了大量的无效信号。纸币到达入钞传感器时，距离光学信号传感器还有一定的距离，在纸币到达光学传感器之前，采集的信号均为无效信号；纸币离开光学传感器之后，到达出钞传感器之前，采集的信号仍未无效信号。对于磁信号或者其余信号，同样采集了大量冗余数据。传感器位置如下图所示。

![](images/2022e9f78ad99ccb51e658d08fad146ca34bc9b6e07b19c318d8f84fb4ebf484.jpg)  
图 3-2 传感器位置示意图

为了尽可能少的采集冗余数据，我们采用了码盘精准定位。其图片如图3-3 所示。

![](images/537e915f766be6672c8ebcd49519ce3c82b03e7be438e0b247f8abbf839bec38.jpg)  
图 3-3 码盘及其信号图  
表3-3 信号采集结果对比

入钞传感器到光学信号传感器之间的距离一定，其码盘数也为一个确定值，不放设其码盘数为x，当纸币到达入钞传感器后，不要立刻开始信号采集，应该继续等待 $\textbf { \em x }$ 个码盘中断之后，开始采集光学信号；开始采集光学信号之后，经过 y 个码盘数（对应纸币的宽度），停止采集光学信号。对于其余信号的采集，也是采用相同办法。

传统方法采集信号 本文方法采集信号wahe 由上述对比图可知，采用码盘精准控制信号采集时间，可以大大减少数据量，加快单张纸币处理时间。

利用码盘精准控制，可以保证尽可能少的采集无效数据，不仅减少了数据采集的时间，也加快了数据处理的速度，同时还减少了噪声信号的引入。

# 3.2 数据预处理

数据预处理是指在正式对数据进行计算分类前对数据进行的一些必要的处理，以提高分类准确度。比如滤波去噪,数据增强,以凸显其特征,方便进行最终的数据处理。对金融机具而言，数据预处理是指将采集到的数据，进行一定的处理，滤波消减噪声信号，提取采集数据的有效数据，用作信号识别、鉴伪与清分。

# 3.2.1 入钞出钞信号的预处理

入钞信号为一个上升沿脉冲，当微处理器检测到上升沿脉冲时，意味着纸币即将进入传感器区域，此时，开始准备采集各种光电信号。

表 3-4 入钞信号  

<html><body><table><tr><td>理想状况下入钞信号波形</td><td>实际状况入钞信号波形</td></tr><tr><td></td><td></td></tr></table></body></html>

如上表格所示，当微处理器检测到上升跳变时，并不代表着纸币已经到达入钞信号传感器。因为电路中不可避免的存在着噪声。如上表右侧所示，前面两个脉冲代表噪声，并不是真正的入钞信号。需要把入钞信号做一个均值处理，以消除噪声。方法如下：

(1) ADC 稳定后，取上次最新的十个数据做平均值，记为 lastvalue；取本次最新的十个数据做平均值记为 nowvalue；取一稳定阈值记为 TH；(2) 若 lastvalue< TH 且 nowvalue> TH ，则表明纸币到达入钞传感器。因为噪声一般为白噪声，取均值能消除掉大部分；至于噪声脉冲，取较长的一段均值，亦可降低其影响。

# 3.2.2 有效数据的预处理

纸币到达入钞信号传感器，采集信号；纸币到达出钞位置传感器时，信号采集结束。在纸币到达清分传感器之前之前，处理器必须处理完毕所有数据。

![](images/ad79821c902a1c50ff1be0353b7ea8ae2e378142f13b7496525bdd22a840e25e.jpg)  
图 3-4 信号处理过程  
图 3-5 原始信号

在数据到达清分拨片前，处理必须将数据预处理、提取特征、综合分析纸币数据，从而得知纸币信息。

在对采集到的数据进行处理之前，需要先对其进行去噪处理。如下图所示：

RIGOL WHIT ↓1 2.16VT CUPHE3.32VCurB:-1.64V1ΔY1:4.96VlelaUmax(1=.3.36U.._.:Umin(11=..480mU  
H1.00V Time 5.000ms→13.60ms

由于采集到的模拟信号是一个连续的波形，不可能出现极大的跃变，我们可以对每一路模拟信号进行幅值突变检测，以排除干扰信号。具体方法如下：

(1) 不妨假设当前采集到的一路模拟信号为序列 $\mathbf { X } \mathrm { i }$ ；将当前信号的后一个数据减去前一个数据，得到一个新的差值序列 ti；(2) 根据电路的实际情况，测量得到一个比较合理的阈值 TH，保证采样正常时，跳变幅值均小于 TH；(3) 依次遍历差值序列 ti，删除其中大于 TH 的点，并对应删除 $\mathbf { \sigma } _ { \mathbf { X } _ { i } }$ 中的点。经上述方法处理后的模拟序列，可以用来进行下一步的数据计算了。由于采集的数据一般有大量文波，在求极值点的时候，需要考虑到文波。在进行数据比较时，需要考虑数值的波动范围。

# 3.3 本章小结

由于信号量太大，芯片 AD 通道数量不够，本文采用 4051 分时复用，同时采集多路信号，解决了 AD 通道数量不够的问题；由于数据采集过程中，有大量冗余信号，本文采用码盘精准控制，尽可能少的采集冗余信号。由于信号是一个连续的波形，信号采集完毕之后，采用跳变检测提出错误数据，在一定程度了保证了数据的正确性。

# 4  光电信号特征提取与清分

清分机具是人工智能的产物，在其工作过程中，需要先采集数据，对数据进行一定的处理、计算、分析，得到其分类结果。其工作流程如下：

数据采集 数据预处理 特征提取 分类

在数据预处理完毕之后，就要对数据进行特征提取，为数据分类做准备。

# 4.1 光电信号特征提取

特征提取和选择，对于纸币清分的性能有着至关重要的作用。很多时候，就是因为没有找到最为明显、容易区分的特征，导致软件代码的庞大、补丁的繁多，甚至清分性能低下。特征的提取和选择，是纸币清分机软件系统中最困难的任务之一。如何提取和选择纸币的特征，是我们这节的主要研究内容。

特征选提取：样本处于一个多维空间中，人为通过变换，将高位样本用低维表示，这就是特征提取。特征提取的方法有很多种，我们在众多特征中选择出来的特征应该具有如下特点：

(1) 差异性。提取特征就是为了表现其差异性，差异越明显，那么分类越简单、可靠。  
(2) 可靠性。我们所提取的特征必须稳定可靠。如果提取到的特征不稳定，那么该特征就是无效特征，不能用来作为分类标准之一。  
(3) 数量少。特征的数量越少，我们需要建立的识别模型越简单可靠。如果特征数量太多，不仅影响算法复杂度，抗噪声能力弱，还影响情分结果。

鉴于以上特性，在进行光学信号鉴伪时，针对真币假币的电压幅值不同，选取了电压幅值作为特征；在进行初步面额清分时，选取了纸币尺寸作为特征；在进行磁信号鉴伪时，提取了波形上的一序列特征(例如PCA)作为鉴伪特征；在进行多光谱图像鉴伪时，提取了网格特征[28]、灰度统计特征、穿越特征等。

# 4.1.1 基于 PCA 的特征提取

由于在纸币识别过程中，我们希望提取的特征少，又能达到较高的准确率；要达到较高的准确率，需要较大的有效信息量。于是提出了基于 $\mathrm { P C A } ^ { [ 2 9 ] }$ 的特征提取。

取人民币样本 1000 张，采集其全部光电信号，经过数据预处理之后，将每一张的纸币数据，拉成一个 5000 维的列向量。对这 1000 个列向量，进行 PCA 特征提取。将其特征值按照从大到小排列，其曲线如下：

![](images/f639a0cb677758fcdc761443363b160dcbab21f1a4ca15857aabdb1473ba3d2b.jpg)  
图 4-1 特征值曲线

取前 5 个特征值之和 $\mathrm { S U M 5 { = } 9 5 . 1 9 \% }$ ，前 10 个特征值之和 $\mathrm { S U M 1 0 { = } 9 6 . 4 7 \% }$ 。如果我们只取前 5 个特征，那么就表达了纸币光电信号的前 $9 5 . 1 9 \%$ 的特征，具有较高的准确性。因此证明此方法可行，此方法最终提取的数据数量较少，却较为全面的体现了纸币的全方位信息。具体方法如下：

(1) 取各种面额的真币若干张，其综述记为 $\mathfrak { n }$ ，将每一张纸币的各种光电信号按照某种特定顺序、格式，拉成一个列向量，不放设其列数为 $\mathrm { ~ m ~ }$ ，那么这 $\mathbf { n }$ 个列向量组成一个矩阵，不仿记为 $\mathbf { I } = ( { \mathrm { x } } _ { 1 } , { \mathrm { x } } _ { 2 } , . . . . . . { \mathrm { x } } _ { \mathrm { n } } )$ ；

(2) 向量 $\mathbf { x }$ 的平均值记为 y：

$$
\begin{array} { r } { \mathbf { y } = \frac { 1 } { n } \sum _ { i = 1 } ^ { n } x _ { i } } \end{array}
$$

那么矩阵 I 的协方差矩阵 S：

$$
\begin{array} { r } { \mathsf { S } = \sum _ { i = 1 } ^ { n } ( x _ { i } - y ) ) ( x _ { i } - y ) ^ { T } } \end{array}
$$

(3) 计算 S 的特征值 a 和特征向量i，那么

$$
\mathrm { S i } = \mathrm { a i }
$$

(4) 将特征值向量按照特征值的降序对应排列，选择最大的 $\mathrm { ~  ~ c ~ }$ 个特征值对应的特征向量 $\mathbf { i } _ { \mathrm { i } } , \mathbf { i } _ { 2 } , \mathbf { i } _ { 3 } , \mathbf { , j } _ { \mathrm { c } }$ 构成投影矩阵 $\mathbf { W } _ { \mathrm { m } } \times \mathbf { c }$ ，其中第 $\mathbf { k }$ 列为 $\mathbf { i } _ { \mathbf { k } }$ ；

(5) 第 k 个纸币样本在投影空间的向量表示 $\mathfrak { p } _ { \mathrm { k } }$ ：

$$
p _ { k } = W ^ { \mathrm { T } } i _ { k }
$$

那么 $\mathfrak { p } _ { \mathrm { k } }$ 即为第 $\mathbf { k }$ 张纸币提取的特征，该特征包含了纸币的面额、真伪等信息，用于下一步的清分。

# 4.1.2 基于小波分解的特征提取

小波[30][31][32][33][34]变换的实质是对原始信号进行某种特定滤波器的滤波[35]。无论小波函数的如何选取，每一分解尺度所用的滤波器中心频率和带宽成固定的比例。若把不同分解尺度上信号的能量求出来，则可以将这些能量按尺度顺序排列形成特征向量供识别。

上一节提到的基于 PCA 的特征提取方法，提取的是主要特征；然而 10 元、20元纸币的诸多特征极其相似[36]，再加上信号波形的不稳定，基于 PCA 的特征提取不能很好的将他们分开。10 元、20 元人民币的波形如下：

10元模拟中磁 20元模拟中磁   
10元中磁正脉冲 20元中磁正脉冲

由上图可知，10 元、20 元中磁波形非常相似，常规方法提取特征（脉冲个数、比率、均值、方差、能量）都不能很好的将他们完全分开；为此我们提出了基于 harr小波分解的特征提取方法。

小波变换被誉为“数学显微镜”，它可以较为直观的展示信号的任何局部信息，小波变换的连续变换定义为：

$$
( \mathbf { W } _ { \psi } \mathbf { f } \mathbf { \Psi } ) ( \mathbf { a } , \mathbf { b } ) = \left| \mathbf { a } \right| ^ { - 1 / 2 } \int _ { - \infty } ^ { + \infty } \mathbf { f } \mathbf { \Psi } ( \mathbf { t } ) \bar { \psi } ( \frac { \mathbf { t } - \mathbf { b } } { \mathbf { a } } ) \mathrm { d } \mathbf { t }
$$

其中 ${ \psi } _ { \mathrm { a , b } } ( \mathrm { t } ) = | \mathrm { a } | ^ { - 1 / 2 } \psi ( \frac { \mathrm { t } - \mathrm { b } } { \mathrm { a } } )$ ， a R, a  0; $ { \mathbf { b } } \in  { \mathbf { R } }$ 。可以简写为：

$$
( \mathbf { W } _ { \psi } ^ { } \mathbf { f } \mathbf { \Psi } ) ( \mathbf { a } , \mathbf { b } ) = \int _ { - \infty } ^ { + \infty } \mathbf { f } \mathbf { \Psi } ( \mathbf { t } ) \overline { { \psi } } _ { \mathrm { a , b } } ( \mathbf { t } ) \mathrm { d } \mathbf { t } = \left. \mathbf { f } \mathbf { \Psi } ( \mathbf { t } ) , \mathbf { \Psi } \psi _ { \mathrm { a , b } } ^ { } ( \mathbf { t } ) \right.
$$

下面采用哈尔小波，对 10 元、20 元纸币的模拟中磁进行小波变换，其波形如下：

10 元纸币 20 元纸币3 3  
波 原始 Mull ut Liltdtutla  
形1 -10 200 400 600 0 200 400 6002 .  
波 次小 1ty 1  
分  
解 .11 100 200 300 0 100 200 300

![](images/f20209b4709a1bb6e77e4b962736d952dba97692ba16e137390edc09e9eb88a9.jpg)

如上表所示，在对原始信号进行五次小波分解后，在某些区域其能量特征相差很明显，而且特征稳定。于是，可以提取小波分解后的能量特征作为清分 10 元、20元纸币的重要特征。其步骤如下：

(1) 采集得到原始中磁信号，进行预处理；  
(2) 将预处理的中磁信号，进行五次小波分解；  
(3) 统计某几个特定区间的能量，将这些能量值作为小波提取的特征，用于下一步的纸币清分。

# 4.2 基于 SVM 的分类器

在完成特征提取和选择后，接着就需要对这些特征进行分类。进行分类时，分类器[37]的选取非常重要，它直接决定了分类结果的准确度。传统清分机采用的方法是对单个特征进行分类，很多时候由于信号有一定的随机性，比较容易出现误分类。

![](images/1a56ec46c2403918f4b6724b2e6b10ee2647a4ff45840fd9bc04cf73dec79132.jpg)  
图 4-3 分类实例

如上图 4-3 所示，红色、蓝色点分别代表假币、真币样本，传统的单个特征分类，始终无法很好的将其分开。为此我们引入了基于支持向量机(SVM)[38][39]的分类算法。我们使用二分类的 SVM 将每个纸币样本分成真币和假币两类。

$\{ ( \mathbf { x } _ { i } , \mathbf { y } _ { i } ) , \mathbf { i } { = } 1 , 2 , . . . , \mathbf { N } \}$ 是纸币训练样本， $\mathbf { X } _ { i }$ 指训练样本的特征向量， ${ \bf y } _ { i }$ 对应纸币的类别: $1 { = } \{$ {真币}和- $\cdot 1 { = } \{$ {假币}。那么，SVM 分类函数可以写成:

$$
f ( x ) = \omega ^ { T } \psi ( x ) + b
$$

其中 $\omega , b$ 是分类器的参数，它们取决于训练集。如果 $y _ { i } f ( x _ { i } ) { \leq } 1$ ，训练样本 $( x _ { i } , y _ { i } )$ 称为支持向量。而核函数可以记为 $K ( a , b ) = \psi ( a ) ^ { T } \psi ( b )$ 。上式写成:

$$
f ( x ) = \sum _ { i = 1 } ^ { N _ { s } } a K ( x _ { i } , \nu _ { i } ) + b
$$

其中 $\nu _ { i }$ 是支持向量， $N _ { s }$ 表示支持向量的个数。在实验中可以采用线性核函数进行分类。

# 4.3 纸币清分算法

# 4.3.1 基于尺寸的面额清分

第五套人民比纸币面额主要100元、50元、20元、10元、5元和1元。面额清分的方法很多种，最常见的就是尺寸清分、磁信号清分、图像情分。第五套人民币各个面额的纸币尺寸如下表：

表4-2 第五套人民币尺寸  

<html><body><table><tr><td>第五套人民币面额</td><td>长宽尺寸（mm）</td></tr><tr><td>100元</td><td>155 x 77</td></tr><tr><td>50元</td><td>150 x 70</td></tr><tr><td>20元</td><td>145 x 70</td></tr><tr><td>10元</td><td>140 x 70</td></tr><tr><td>5元</td><td>135 x 63</td></tr></table></body></html>

根据几何尺寸[40]清分面额，可靠性极高。然而一般的金融器具上，没有检测纸币长度的传感器，只能检测纸币宽度。通过人民币的宽度不同，可以将人民币分为三类：最宽的是 100，最窄的是 5，介于中间的是 10、20、50，10、20、50 需要通

过其余的特征来清分。人民币面额清分流程如下：

![](images/aa3a18fb15caa88a9af42d318997c7337d70c442fd4864671010e2fba750c390.jpg)  
图 4-4 面额清分流程图

# 4.3.2 基于 SVM 的真伪清分

纸币真伪清分，即纸币鉴伪。纸币清分机采集纸币数据，对这些数据进行处理，滤波去噪、特征提取、真伪判决。

纸币通过清分机，先根据纸币宽度，得到纸币面额；然后分析采集的数据，将提取到的特征跟当前面额纸币的标准特征相比较，从而判定真假。

然而一张纸币上，鉴伪特征很多，如果检测到所有的特征，都与标准特征很匹配，那么很轻易的就能确定当前纸币为真币；实际情况，并不总是这样，诸多特征里面，有真有假，有的特征重要，有的特征不重要，有的特征权值高，有的特征权值低，要通过这些特征来判决当前纸币真假，不能笼统的一假俱假，需要把这些特征结合起来，综合判决，我们采用的是SVM 分类方法。

我们选取真假纸币若干，并提取每张纸币的特征，记为向量 $\mathbf { X } \mathrm { i }$ ，其中 $i = 1 , 2 , . . . , N$ 表示第i张人民币样本。下面介绍基于SVM 的人民币分类算法步骤：

(1) 首先随机选取 200 张真币和 200 张假币样本；  
(2) 分别将这些纸币通过清分机具，提取其特特征。  
(3) 将训练样本的特征参数生成我们的训练集合 $\{ ( x _ { i } , y _ { i } ) , i = 1 , 2 , . . . N \}$ ；  
(4) 将训练样本采用SVM 分类器，训练出分类参数，并将训练的参数移植到微处理器中进行测试。

# 4.3.3 基于模板匹配朝向清分

纸币通过清分机，共有四个方向：毛爷爷图像正面朝上且正放，正面正放，记  
为方向1；毛爷爷正面朝上且倒放，正面反放，记为方向2；人民大会堂背面朝上且  
正立，反面正放，记为方向 3；人民大会堂背面朝上且倒立，反面反放，记为方向 4。纸币朝向清分，可以通过边磁来清分。其对应关系如下表：

![](images/3a6cf728922b4eea49c2b733eaa56253c283e807ff1ba14fd3bc4d96f8a7341d.jpg)

<html><body><table><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td colspan="2"></td><td></td><td></td><td></td><td>1</td><td></td><td></td></tr><tr><td></td><td colspan="2"></td><td></td><td></td><td></td><td>III</td><td></td><td></td></tr><tr><td></td><td colspan="2"></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td colspan="2"></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></table></body></html>

由上图可知，如果左右两侧，都有边磁或者都没有边磁，那么当前纸币为假币；左右两测，只有一侧有边磁，纸币才可能是真币。如果只有左侧有边磁且较早出现，那么就是方向4；如果仅有左侧有边磁且较晚出现，那么纸币就是方向 1；如果仅有右侧右边磁且出现的时刻较早，那么就是方向 2；如果仅有右侧有边磁且较晚出现，那么就是方向3。

用磁信号进行方向清分，只适用于单边有边磁（冠字号区域油墨磁性）的纸币；更为准确全面的朝向清分，必须通过图像识别。因为认为规定的方向 1、2、3、4，就是通过纸币图像来确定的。

通过纸币图像来确定朝向[41]，一般采用类 Haar 特征[42]或者模板匹配[43]的方法进行识别方向。先需要在纸币上选取一块特定大小的区域，该区域必须比较特殊，找到合适的特征进行特征提取，然后进行特征匹配。以2005版100元为例，固定在左上角选一块特定大小的区域，图案如下：

表4-4 纸币朝向图  

<html><body><table><tr><td>正面正放1</td><td>正面反放2</td><td>反面正放3</td><td>反面反放4</td></tr><tr><td></td><td></td><td></td><td></td></tr></table></body></html>

将当前纸币该块儿区域的特征与标准模板匹配，若当前纸币的特征最接近图案 1的特征，那么当前纸币的朝向就为正面正放 1；若当前纸币的该特征最接近图案 2 的特征，那么当前纸币的朝向就是正面反放；若当前纸币的特征最接近图案 3，那么当前纸币的朝向就为反面反放；若当前纸币的该特征最接近图案 4，那么当前纸币的朝向就是反面反放4。

下面针对人民币第五套 100 元的纸币进行朝向清分，方法步骤如下：

(1) 提取纸币 4 个朝向的某一个固定区域，作为特征块；  
(2) 对特征快进行 LBP 特征、灰度特征、网格特征、穿越特征等特征提取；将这些特征表示为一个向量；  
(3) 取第五套100 元纸币1000 张，训练得到这四个朝向的的四个类别特征向量，每个类别的特征向量有 1000 个，对每个朝向类别的1000 个特征向量，求其中心向量，做个每个朝向类别的标准模板向量；  
(4) 将当前纸币的特征向量与标准的四个朝向模板向量比较，取最相似的一个，作为当前纸币的朝向。  
(5) 将基于模板匹配的朝向清分的结果与边磁信号位置识别朝向的结果相比较，若结果相同，表明识别结果可靠；否则当前纸币疑为图像假币。

# 4.3.4 基于图像识别版本清分

目前市面流通的人民币主要分为第四版跟第五版。人民币版本清分，有磁信号清分跟图像清分。然而第四版人民币跟第五版人民币，在磁信号上，差别极小。第四套人民币没有中小磁；第五套人民币100元、50元的拥有中小磁。利用磁信号，只能够清分第四套跟第五套人民币的100元、50元。若有中小磁，那么一定是第五套的 100 元、50 元。

更加全面的版本清分信息在纸币的多光谱图像[44]人民币。第四套跟第五套人民币差别在一些很细微的地方。以第四套跟第五套的100元为例：

表4-5 第四套第五套纸币的差异  

<html><body><table><tr><td>第四套100元</td><td>第五套100元</td><td>差别</td></tr><tr><td>AS10189491</td><td>DE62447098</td><td>第四第五字号位 号是中间四位较高</td></tr><tr><td>ASI0189491</td><td></td><td>第四套第五面侧是冠 纹路</td></tr><tr><td>1999年</td><td>2005年</td><td>纸币背面年份不一样</td></tr><tr><td></td><td></td><td>印花图案的位置不同</td></tr></table></body></html>

通过适当的图像算法，特征提取、识别匹配，可以得出纸币版本。方法步骤如下：

(1) 根据不同版本版本间的图像差异，确定特征区域；  
(2) 对特征区域进行特征提取；  
(3) 识别提取的特征，确定纸币的版本。

# 4.3.5 基于直方图的纸币残缺清分

残缺清分，一般采用图像识别算法。因为残缺币的残缺区域，在图像中显示的就是纯黑区域。通过合理的算法，检测有无大块的纯黑区域，可知纸币是否残缺。

残缺币可以通过其直方图来确定二值化的阈值，从而将其变化为黑白二值图，让残缺部分为黑，完好部分为白，通过灰度统计，即可知道纸币残缺程度。

表4-6 基于直方图的残缺币清分  

<html><body><table><tr><td>纸币原值图像</td><td>中国人民银行 圆 QF90127252 100</td></tr><tr><td>灰度图的直方图</td><td>1000 800 600 400 200 0 0 50 100 150</td></tr></table></body></html>

<html><body><table><tr><td>二值图（阈值设为50, 四周黑线是方便观看，人为 添加）</td><td></td><td>'9/2</td></tr></table></body></html>

根据直方图，确定合理的二值化的阈值，对图像进行二值处理，即可得到灰度图，对灰度图进行统计，即可得知纸币的残缺程度。

# 4.3.6 基于灰度统计的新旧清分

根据纸币的新旧污损程度，可以把纸币分成几类。一类是纸币成色较好、木有污损，可以继续流通；另一类是纸币表面颜色灰暗、起毛，不适宜流通。纸币的新旧一般采用图像鉴伪算法，因为旧纸币看起来比较灰暗。其方法如下：

(1) 不同面额纸币的特征区域不同，我们先根据面值面向识别结果去顶当前纸币的特征区域。

(2) 计算特征区域的平均灰度值：

不妨假设待处理的图像为 $\mathbf { G } ( \mathbf { x } , \mathbf { y } )$ ，特征块的大小为 $\mathbf { w } ^ { * } \mathbf { l }$ ;特征块的左上角坐标为 $( \mathbf { \boldsymbol { x } } _ { 0 } , \mathbf { \boldsymbol { y } } _ { 0 } )$ ，那么当前纸币特征区域的平均灰度：

$$
\begin{array} { r } { V _ { B } = \frac { 1 } { w * l } \sum _ { x = x _ { 0 } } ^ { x _ { 0 } + w } \sum _ { y = y _ { 0 } } ^ { y _ { 0 + l } } G ( x , y ) } \end{array}
$$

(3) 计算标准区域的平均灰度值：

不妨设整个图像长度和宽度的乘积为 $\mathbf { W } ^ { * } \mathbf { L }$ ，那么标准区域的平均灰度：

$$
\begin{array} { r } { V _ { R } = \frac { 1 } { w * l } \sum _ { x = x _ { 0 } } ^ { x _ { 0 } + w } \sum _ { y = y _ { 0 } } ^ { y _ { 0 + l } } G ( x , y ) } \end{array}
$$

(4) 将两者之间的比值作为新旧程度：

$$
\begin{array} { r } { V _ { o l d } = \frac { V _ { B } } { V _ { R } } } \end{array}
$$

测量值越大表示纸币亮度高、纸币干净，即纸币越新，反之表示纸币越旧。

# 4.3.7 拼凑币清分

拼凑币分为很多种，有的是真币假币拼接起来，有的只是真币撕裂然后用透明胶带或者白色胶带粘好。如果是真币假币拼接起来，而且粘贴特征不明显，那么只能通过光电信号、多光谱图像来鉴伪；如果是使用透明胶带粘贴，那么用反射传感器检测，能检测到较强的反射信号；如果是白色交代粘贴，可以通过厚度检测或者多光谱图像检测。

# 4.4 本章小结

为了全面分析纸币的所有信号，而又希望提取的特征少，提出了PCA 的特征提取方法，简而有效的提取了纸币的特征；针对10元、20 元信号相似，波形又不稳定，提出了基于小波分解的奇异特征提取。提取特征之后，采用了基于支撑向量机的分类方法，涉及到纸币清分包含了面额、新旧、真伪、残缺等。

# 5 系统实现与性能测试

# 5.1 系统整体框架的实现

纸币清分机应该包含如下模块：光电信号分析鉴伪模块、图像模块、显示报警模块、网络优盘模块、符叠加模块。

![](images/272119311b8a6aeec218a97c9fd39898396e1e011526d119f391136e3a703857.jpg)  
图

# 5-1 清分机具系统框架

光电信号分析鉴伪模块为清分机的主要控制模块，协调各个模块之间的正常工作。它控制电机转动、刹车，控制光电信号的采集与处理，通知图像采集模块采集纸币多光谱图像，同时将鉴伪结果送给显示板显示，控制视频监控模块的字符叠加，同时将纸币数据存入到优盘、上传到网络服务器。

图像模块，采集纸币多光谱图像，对纸币进行图像算法，包括面额识别、版本识别、朝向识别、纸币多光谱鉴伪、纸币光子好识别等等。图像模块处理完成之后，将处理结果发送给主控模块，作为清分的重要依据。

显示报警模块，显示清分机的工作状态，面额清分、真伪清分还是新旧清分，同时实时显示清分纸币的信息（出钞口、退钞口各有多少张纸币，总面额多少）；出钞口或退钞口纸币数量太多，担心引起卡钞时，应该提醒刹车并报警，提醒点钞人员取走出钞口退钞口的纸币；在开机自检时，显示板还可以显示出错位置及原因。

外设模块，通过一个单片机与外设相连。外设模块包括刷卡器、字符叠加模块、打印机。

优盘模块，是将当前纸币清分信息（包含冠字号码、冠字号图片、纸币真伪、面额、版本、朝向等）写入到优盘。在写入到优盘时，通过特定的编码方式加密；通过特定的解密软件，打开文件，可以显示。

网络模块，是将当前纸币清分信息（包含冠字号码、冠字号图片、纸币真伪、面额、版本、朝向等）上传到网络服务器，通过特定的编码方式加密；同时，网络上位机，可以实时显示当前点钞状态、纸币信息。纸币清分机[45]的网络模块可以下载“冠字号黑名单”（可能是假币的冠字号码），然后更新到纸币清分机的主控信息综合分析器中，作为鉴伪清分的参考因素之一。

# 5.2 系统工作流程

具备清分能力的金融机具，其工作流程可分为两个部分来介绍，分别为主程序运行流程及信号处理（鉴伪或清分）流程。

主程序运行流程包括自检和走钞。为了提高清分机具的可靠性，避免因存放不当或人为损坏造成的识别错误，每台机器在启动时都需要首先运行自检程序，对照事先存储的标准参数，如有不同将报警提示，由维修人员排除故障；自检通过的设备，当有纸币遮盖进钞台的反射式对管传感器时，MCU 收到脉冲信号会启动大、小电机和吸尘风扇，纸币顺利通过走钞通道，得到清点和鉴伪，当纸币进入出钞口时，MCU 收到由出钞红外对管发出的脉冲信号，点钞机停止并发送清点结果到显示板进行显示，其流程如下图所示。

![](images/4b3c3372e9aad3007cf839fc925f2e62188d367afafb81166bb89a070d869f1a.jpg)  
图 5-2 运行流程

信号处理（鉴伪或清分）部分，首先结合计数管和码盘对纸币的宽度进行检测，同时可简易判断纸币是否残张，若残张则报警结束，若非残张，则需计算纸币宽度，初步判断纸币面额，其中 100 元、5 元和其他面额均不相同，50 元、20 元、10 元宽度比较接近，需要根据磁信号做进一步判断。其流程图如下：

![](images/69df3fd31d0682376308008208624ae06e25eb2f4fd183b39d36094aff6dafcb.jpg)  
图 5-3 信号处理流程

# 5.3 清分结果与讨论

# 5.3.1 实验平台及数据

本文所述的清分方法可用于 A 类点钞机、清分机、ATM 机等。本文做实验主要用了A 类点钞机、清分机，如下图所示，其中A 类点钞机，为完全自己研发，清分机主要开发了其软件部分。在做实验时，第五套人民币 100 元、50 元、20 元、10 元、5 元各100 张，第四套人民币 100 元、50 元各10 张，污损币、假币若干。由于纸币有四个方向，在测试时，每个方向都需要涉及到。

![](images/5a5ae0acde464353493e4046ab3c1316c1d643045f7e1d883a7146b830ab30bd.jpg)  
图 5-4 实验平台

# 5.3.2 实验结果及讨论

本文对提出的清分方法进行了实验，其结果结果如下表所示，本文用了两个评价指标来展示实验结果。它们分别是平均处理时间、出错率。平均处理时间是指算法部分处理这些纸币的时间，出错率是指认错的比率。TN 表示认错的张数，TP 表示正确的张数。

$$
M D R = { \frac { T N } { T P + T N } }
$$

# 5-1 算法实验结果比较

<html><body><table><tr><td rowspan="2">清分种类</td><td rowspan="2">测试样本数 量</td><td colspan="2">平均处理时间 (ms)</td><td colspan="2">出错率（%）</td></tr><tr><td>本文算法</td><td>传统算法</td><td>本文算法</td><td>传统算法</td></tr><tr><td>面额清分</td><td>10000</td><td>0.3256</td><td>0.2605</td><td>0</td><td>0</td></tr><tr><td>真伪清分</td><td>10000</td><td>0.2913</td><td>0.2344</td><td>0.05</td><td>0.20</td></tr><tr><td>朝向清分</td><td>10000</td><td>0.2898</td><td>0.2318</td><td>0.02</td><td>0.31</td></tr><tr><td>版本清分</td><td>10000</td><td>0.2901</td><td>0.2321</td><td>0.02</td><td>0.25</td></tr><tr><td>残缺清分</td><td>10000</td><td>0.3264</td><td>0.2937</td><td>0.02</td><td>0.34</td></tr><tr><td>新旧清分</td><td>10000</td><td>0.2753</td><td>0.2478</td><td>0.03</td><td>0.50</td></tr><tr><td>拼凑币清分</td><td>10000</td><td>0.2621</td><td>0.2512</td><td>0.05</td><td>5.00</td></tr></table></body></html>

通过表 5-1 所示的数据可以看出，本文针对纸币的防伪特性，提出的清分鉴伪方法，虽然在处理时间上，稍有增长，时间的增长是因为计算分析了更多的纸币数据，这个增长的时间在可以接受范围内，却大大提高了纸币清分的准确率。本文提出的清分算法能对人民币进行很好的清分，其实验结果达到了国家标准，并且能够满足实际的需求。

# 6 总结与展望

目前我国金融票据防伪检测技术相对落后，难以满足需求，相关设备大多依赖进口，关键技术和数据资源受到国外对我技术封锁，使我国面临极大金融风险。因此，为了突破国外技术垄断，提升我国金融防伪综合实力，对于纸币清分机的研究具有重要的应用价值。

本文阐述了纸币清分机的工作原理以及工作流程，具体包括清分机的结构原理、鉴伪原理、信号采集、特征提取及清分。主要取得的成果有：

(1) 阅读大量相关文献，了解清分机工作原理，挖掘其清分鉴伪的核心技术；  
(2) 设计合理的采样方法，尽可能保证每一路数据的完整性，又尽可能少的采集冗余数据；通过合适数据预处理方法，剔除错误数据；在进行信号鉴伪时，采用合理的算法，消减噪声干扰，保证程序的鉴伪能力，又尽可能少的误报；  
(3) 为了纸币清分的准确率，提出了基于 PCA 的特征提取方法，全面考虑纸币所有特征；针对不稳定的相似信号，提出了基于小波的局部特征提取的方法；  
(4) 纸币清分时，提取特征之后，引入监督式的训练学习，提出了基于 SVM 的纸币清分算法；结果表明这样的分类算法能增强分类效果，提高了清分机的鉴伪清分能力。  
(5) 将上述清分鉴伪方法应用于清分机，初步调试之后，机器已经具有一定的鉴伪清分能力。

虽然本文提出的方法中，采集了较多种类的光学信号和磁信号，但很多地方仍然存在较多不足，仍需进一步完善。

(1) 纸币除了传统的光学信号和磁信号外，还有很多其余信号可以去挖掘，比如变色油墨、纸币磁图像等，需要采用更加先进合理的方法采集其信号，用于鉴伪与清分；  
(2) 信号采集、清分鉴伪算法需要能适应倾斜币，减少误报，这不仅要求更加合理的机械结构，还要求更加合理的信号采集及识别算法。

总之，随着科技的发展，假币磁信号、光学信号仿真度越来越高，基于定性的鉴伪技术已经不能满足人们对清分机的需求，市面上已经出现了具有安全线的假币，磁信号与真币极其相似，所以光电信号的清分任重而道远，需要不断深入研究。

# 致  谢

本课题是在导师尤新革老师的指导和关怀下完成的。尤老师学识渊博，治学态度严谨，工作作风精益求精，他那种严于律己宽于待人的崇高品德，朴实无华、平易近人的人格魅力都深深的影响着我们每一个人。

还要感谢徐端全老师，徐老师在学术、技术方面的视野开阔、经验丰富，在我遇到困难的时候，总能帮我打开思路、指引方向。

感谢项目团队成员付祥旭、李方震、张朋对我的帮助，并为我的实验提供实验素材。感谢实验室的师弟师妹，让我我收获良多。

还要感谢电信系各位领导和老师，为我们撑起了一个温馨的“科研”之家，解决我们的后顾之忧，从课堂到找工作，他们无不尽职尽力，兢兢业业。

最后，感谢各位评阅人以及答辩委员会的给为老师，给出了很多修改和改进意见，完善了论文的结构和内容。

# 参考文献

[1] 李俊平. 人工智能技术的伦理问题及其对策研究[D].武汉理工大学,2013.   
[2] Bishop C M. Pattern recognition and machine learning[M]. New York: springer, 2006.   
[3] 彭淑敏. 神经网络图像识别技术研究与实现[D].西安电子科技大学,2005.   
[4] 徐锦钢. 基于 DSP 的车牌号识别技术及应用研究[D].兰州理工大学,2008.   
[5] 郑桥佳. 浅析人民币国际化[D].西南财经大学,2010.   
[6] 尤佳，徐炜. 流通人民币纸币的面值识别[J]. 仪器仪表学报. 2003(S2): 94-95.   
[7] LI Jian-xun,LIU Gang,and LIU Guang-zhi,et al.Real-time system for small target detection and tracking in infrared image. Laser&Infrared,vol.35,no.6, 2005: 407\~409   
[8] 陈曦. 多模态纸币检伪系统的设计与实现[D]. 哈尔滨工业大学, 2011.   
[9] 操永波. 全息磁码——新颖的人民币鉴伪及识别技术[D]. 上海大学, 2007.   
[10] 杜铭,宫芳. 纸币清分机关键技术问题研究[J]. 中国科技信息,2008,03:250-251.   
[11] Cooper B W, Rubler J. Counterfeit currency detector: U.S. Patent 3,618,765[P]. 1971-11-9.   
[12] 卢龙. 基于磁信号与红外图像的纸币鉴别技术研究[D]. 哈尔滨工业大学, 2009.   
[13] 韩江，吴建霖，祖晅，等. 智能红外测厚技术在纸币检伪中的应用[J]. 机械工 程与自动化. 2010(01): 178-179.   
[14] 王志德. 点钞机关键技术的研究及实施[D].上海交通大学,2008.   
[15] Rafael C.Gonzalez and Richard E.Woods.Digital Image Processing.Second Edition. Beijing, Publishing House of Electronics Industry,2002   
[16] 唐爱民，刘泽明，孙志华，等. 荧光防伪纤维荧光特性及其在防伪纸中的应用 研究[J]. 造纸科学与技术. 2007(06): 66-70.   
[17] 朱杨.印钞中的纸张及其防伪技术.防伪技术与管理,2005:45\~50   
[18] 刘娉婷. 新型铁氧体颜料的制备及其在磁性防伪油墨中的应用研究[D]. 湖南 工业大学, 2011.   
[19] 米伟哲. 光电器件在点钞机中的应用[J]. 黑龙江电子技术. 1999(11): 12.   
[20] Ionesco E. Notes and Counter Notes: Writings on the Theatre[M]. New York: Grove Press, 1964.   
[21] 朱均超, 刘铁根, 王双. 一种接触式图像传感器非均匀性实时校正方法[J]. 光 电子. 激光, 2007, 18(9): 1036-1038   
[22] Mitterhofer H, Gruber W, Amrhein W. On the High Speed Capacity of Bearingless Drives[J]. IEEE TRANSACTIONS ON INDUSTRIAL ELECTRONICS. 2014, 61(6): 3119-3126.   
[23] 金炳涛. 纸币清分机图像识别与残缺检测方法研究[D]. 哈尔滨工业大学, 2007.   
[24] Lewis J P. Fast template matching[C]//Vision interface. 1995, 95(120123): 15-19.   
[25] 李朝，匡逊君，赵文倩. 纸币序列号定位与分割方法研究[J]. 计算技术与自动 化. 2012, 31(2): 74-77.   
[26] 李俊儒. 两钞口纸币清分机软件系统的设计与实现[D].哈尔滨工业大学,2006.   
[27] 李冬明. 具有 USB2.0 接口四路并行高速图像采集卡的设计[D].哈尔滨理工大 学,2005.   
[28]Kong F H, Ma J Q, Liu J F. Paper currency recognition using Gaussian mixture models based on structural risk minimization[C]//Machine Learning and Cybernetics, 2006 International Conference on. IEEE, 2006: 3213-3217   
[29] Jolliffe I. Principal component analysis[M]. John Wiley & Sons, Ltd, 2002.   
[30] SHI Hao,ZHANG DongHe,LIU YuMei,HAO YongQiang. Analysis of the ionospheric variability based on wavelet decomposition[J]. Science China(Technological Sciences),2015,01:174-180.   
[31] Qinghua Liu,Edward Chung,Liujia Zhai. Fusing moving average model and stationary wavelet decomposition for automatic incident detection:case study of Tokyo Expressway[J]. Journal of Traffic and Transportation Engineering(English Edition),2014,06:404-414.   
[32] The Spatial Equivalence Between Wavelet Decomposition and Phase Space Embedding of EEG[J]. Chinese Journal of Biomedical Engineering,2008,03:101-105.   
[33] Application of Wavelet Decomposition to Removing Barometric and Tidal Response in Borehole Water Level[J]. Earthquake Research in China,2007,04:455-462.   
[34] XU Yi-yi Dep. of Computer Engineering Guangxi University of Technology Liuzhou,Guangxi,China,545006. Image Segment Based on Wavelet Decomposition and Fuzzy Clustering Theory[A]. International Communication Sciences Association, Hong Kong.Proceedings of 2010 International Conference on Broadcast Technology and Multimedia Communication(Volume 1)[C].International Communication Sciences Association, Hong Kong:,2010:3.   
[35] Sonka M, Hlavac V, Boyle R. Image processing, analysis, and machine vision[M]. Cengage Learning, 2014.   
[36] 陈思龙. 基于多光谱图像的纸币防伪鉴定技术研究[D].华中科技大学,2014.   
[37] Domingos P, Pazzani M. On the optimality of the simple Bayesian classifier under zero-one loss[J]. Machine learning, 1997, 29(2-3): 103-130.   
[38] Manley J L, Tacke R, Hogan B L M, et al. SR proteins and splicing control 1569[J]. Genes & development, 1996.   
[39] Schuldt C, Laptev I, Caputo B. Recognizing human actions: a local SVM approach[C]//Pattern Recognition, 2004. ICPR 2004. Proceedings of the 17th International Conference on. IEEE, 2004, 3: 32-36.   
[40] Kato N,Omachi S.A handwriting character recognition system using directional element feature[J].IEEE Trans on Pattern Analysis and Machine Intelligence, 1999, 21(3):258-262.   
[41] 郭艳平. 纸币币种与币值识别系统的研究 [D]. 南京: 南京航空航天大学, 2007   
[42] P.Viola and M.Jones.Rapid Object Detection using a Boosted Cascade of Simple Features,IEEE International conference on computer vision and pattern recognition,Hawaii,2001:511-518.   
[43] Lewis J P. Fast template matching[C]//Vision interface. 1995, 95(120123): 15-19.   
[44] Wang P,Tian J W,Gao C Q. Infrared small target detection using directional highpass filters based on LS-SVM[J]. IEEE Trans on Electronic Letters,2009,45(3):156-158.   
[45] Kuroda T. Bank note sorter: U.S. Patent D562,377[P]. 2008-2-19.

# 附录1 攻读学位期间申请专利目录

# 作为第一发明人申请专利：

[1] [发明] 一种模块化点钞机，专利号 201410100985.5  
[2] [实用新型] 一种模块化点钞机，专利号 201420173759.5  
[3] [发明] 一种点验钞机信息与监控视频图象叠加的方法，专利号 201410086702.6  
[4] [发明] 人像识别鉴别美元面额的方法，专利号 201410151861.X

# 作为参与者申请专利：

[5] [发明] 接触式图像传感器多光谱图像采集及处理方法，专利号 201310713990.9[6] [发明] 软件调节速度的点验钞机，专利号 201410143608.X[7] [发明] 多光谱点验钞机多层次睡眠模式的控制方法，专利号 201310714757.2[8] [发明] 纸币防伪特征数据库鉴别假币的方法，专利号201410067308.8