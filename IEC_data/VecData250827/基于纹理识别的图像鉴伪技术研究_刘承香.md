# 基于纹理识别的图像鉴伪技术研究

刘承香1林武璋2胡学娟1陈俊伟2阮双琛1（1．深圳市激光工程重点实验室深圳大学电子科学与技术学院广东 深圳 518060；2．深圳大学机电与控制工程学院广东 深圳 518060）

摘　 要：提出了一种基于纹理特征识别的国徽图像鉴伪技术。先通过模板匹配对二值化后的国徽图像外沿进行定位并根据圆圈的中心位置确定左右两个纹理特征比较明显的识别区域然后采用共生矩方法进行纹理识别。实验结果表明纹理特征惯性矩能很好地反映国徽图像中网格的清晰度具有对真钞和假钞较好的可区分性鉴伪识别率近 $94 \%$ 此方法对钞票鉴伪行之有效。

关键词：图像鉴伪；模板匹配；共生矩方法；纹理识别中图分类号：TN91．7 文献标识码：A

# Researchontechnologyofidentifyingthecounterfeit basedontexturerecoginition

LIUCheng-xiang1LINWu-zhang2HUXue-juan1CHENJun-wei2RUANShuang-chen1 （1．ShenzhenKeyLaboratoryofLaserEngineringColegeofElectronicScienceandTechnologyShenzhenUniversity Shenzhen518060China；2．ColegeofMechatronicsandControlEngineringShenzhenUniversityShenzhen518060China）

Abstract：Amethodofidentifyingthecounterfeitbyrecognizingtheimagesofnationalemblemwasstudied．Firstwe usedtemplatematchingtopositiontheoutercircleofnationalembleminbinaryimages．Thenwegainedtwoidentifyingareasbytherelativepositionfromthecircle．Thetexturecharacteroftwoidentifyingareasisclear．Atlastwe usedco-ocurencematrixmethodonthetwoareastoidentify．Theexperimentresultsshowedthecontrastcanreveal theclarityofgridofnationemblemimages．Sousingthecontrastcouldbebetertodistinguishbetwenthegenuine andtheconterfeit．Therecognitionrateisupto $94 \%$ ．Thismethodisefectiveandcanbeusedinthefieldofidentifyingthepapercurency

Keywords：identificationthecounterfeit；templatematching；co-ocurencematrixmethod；textureanalysis

# 1 引　 言

近年来制作、倒卖伪钞或以伪钞兑换真币这一国际性犯罪严重地侵袭着中国大地各地制造、贩运、使用伪钞的案件直线上升愈演愈烈致使大量的假币混掺进流通领域［1］。前一段时间多家媒体报道了以“HD90”开头的假钞［2－3］其伪造技术相当高其很多防伪点是针对验钞机来做的有些验钞机辨别不出这给人民币的鉴伪技术提出了更高的要求其鉴伪技术需要更大的提高和突破。

本文提出了在显微放大的情况下以真币为标准从微观上对国徽图案进行处理和分析研究能识别和区分假钞与真钞的算法和相关技术。假钞由于工艺等技术达不到真钞的标准所以很多图案不够清晰尤其是将其进行显微放大之后更可以看到真钞和假钞的一些差别。本文通过纹理分析的方法来评价国徽图像的网格清晰度进而进行真假的判定是将数字图像处理技术引入到钞票鉴伪技术的创新性思路和方法这些技术的突破和发展不仅可以改善国内外普遍鉴伪技术较差的情况同时可以使数字图像处理在其他领域应用得到促进。

# 2 图像特点分析

国徽图像的获得是通过显微放大系统采集所得。第5版人民币10 元的国徽图像整体为红色真假钞通过放大后的图像主要区别在于：真钞的国徽图像通过凹版印刷、喷墨均匀中间的网格纹理清晰排列规则 （如图 1（a）所示 ）；而假钞喷墨不均放大后的网格纹理模糊 （如图1（b）所示 ）。正是由于真钞和假钞的国徽图像存在这样的差异我们可以通过纹理识别算法来辨别真钞和假钞。

![](images/7c06011bd67026efdf84748aa0bc0a4fd77e770654ca41e4ff2936972c429886.jpg)  
图1 真、假钞国徽图像的两种形式

# 3 图像识别的总体流程

国徽图像识别的总体流程如图2所示。首先对二值化后的国徽图像进行模板匹配精确定位国徽的外沿；然后根据圆的相对位置选取特征明显的区域作为纹理识别区；对选取区域进行纹理分析计算熵、惯性矩、相关性等各个纹理特征参数；最后根据惯性矩的大小进行纹理是否清晰的判定从而判定该防伪点的真假。

![](images/2a9c1d464e7cd20cbca45f956262535d8bfbf8d4036c770bb4460c760bb503aa.jpg)  
图2 图像识别流程图

# 3．1 模板匹配精确定位

模板匹配法是图像检测技术很关键的技术之一［4］模板是为了检测某些区域特征而设计的阵列它将所要检测的物体的模板与图像中所有未知物体进行比较考察是否存在与模板匹配的物体。模板匹配的方法很多由于本文的检测对象是一致的同时检测国徽的外圆主要是进行近似定位所以本文采用模板匹配的具体实现方法如下：

（1）基于统计的方法获取所有国徽外圆的圆心（ab）和半径 r的取值范围：（minamaxa）（minbmaxb）（minrmaxr）；

（2）原图经过二值化后图像如果取白色为背景黑色为国徽；

（3）在二值化图像中对黑点数进行累加。用数组 sum［a］ ［b］ ［r］来记录累加点数得到最大的点数所对应的 abr即为检测的目标圆的参数和位置。

这种检测方法非常快速而且对于背景不复杂的二值化图像识别很有效。图3所示为经过模板匹配对国徽外沿定位的情况。

![](images/063ad73503b17d3048103a1d6b27e08abb172b4a4c5a3220e3bd07295d656f04.jpg)  
图3 模板匹配提取国徽外圆

# 3．2 选定识别区域

选定纹理特征明显的区域作为识别区如图 4所示的黑线框区域。为了增加可靠性避免拼接币的情况选择两个区域进行识别。

![](images/3373e059fc6790e51d9ad364bfb44c713d1fc9039ac5c4e897761ab7e966bc3d.jpg)  
图4 纹理识别区域

# 3．3 图像纹理识别

纹理图像的灰度共生矩阵是基于统计的方法它可反映不同像素相对位置的空间信息［5－7］。图像纹理是指一种或多种图案或多或少有序排列而形成的一种结构这一结构的每个组成基本单元是不被人注意的但它们的整体却可以作为一个有意义的识别单元即纹理区域。测量纹理有很多数学方法其中比较有效地一种方法是灰度共生矩阵法。灰度共生矩阵又称灰度共现矩阵是图像灰度的二阶的统计度量是反映图像区域微观纹理的有力工具。灰度共生矩阵元素 $\mathrm { P } ( \mathrm { ~ i ~ } \ \mathrm { j } \vert \mathrm { d } \ \theta _ { . }$ ）描述在 $\mid \theta$ 方向上相隔 d个像素距离的一对像素分别具有灰度值 ij出现的概率（频数）。灰度共生矩阵 $\mathrm { P } ( \textbf { i } \ \mathrm { j } | \mathrm { d } \ \theta )$ 反映了图像灰度分布关于方向、局部领域和变换幅度的综合信息但它并不能直接提供区别纹理的特性还需从 $\mathrm { P } ( \textbf { i } \ \mathrm { j } \mid \mathrm { d } \ \theta )$ 中进一步提取纹理特征如相关性、熵、能量等。

下面列出能量、局部平稳、熵、对比度 （惯性矩）、相关性的计算公式［5］：

能量： $\mathrm { ~ f ~ } ( \mathrm { ~ \ r ~ { ~ \theta ~ } ~ d ~ } ) = \sum _ { \mathrm { ~ i ~ } } ^ { \mathrm { { L } } ^ { - 1 } \mathrm { { L } } ^ { - 1 } } \left[ \mathrm { P } ( \mathrm { ~ i ~ } \mathrm { ~ \ r ~ { ~ j ~ } ~ } | \theta , \mathrm { ~ d ~ } ) \right] ^ { 2 }$ 局部平稳：f2（θd）＝L∑－i1L∑－j1（i－1j）2P（ij｜θd）熵： $\scriptstyle \oint _ { \mathrm { \Gamma } } ( \mathrm {  { ~ \theta ~ } } _ { \mathrm { d } } ) = - \sum _ { \mathrm {  { ~ i ~ } } } ^ { \mathrm { \tiny { ~ - 1 } } } \sum _ { \mathrm { \scriptsize { ~ j ~ } } } ^ { \mathrm { \tiny { ~ - 1 } } } \mathbf { P } ( \mathrm {  { ~ i ~ } } \mathrm {  { ~ j ~ } } | \mathrm {  { ~ d ~ } } \theta ) \log \mathrm { P } ( \mathrm {  { ~ i ~ } } \mathrm {  { ~ j ~ } } | \mathrm {  { \theta ~ } } _ { \mathrm { d } } )$ 对比度（惯性矩）：$\scriptstyle \mathrm { \mathfrak { f } } \ ( \ \theta , \ \mathrm { d } ) = \sum _ { \mathrm { i } } ^ { \mathrm { - 1 } } \sum _ { \mathrm { j } } ^ { \mathrm { l } - 1 } ( \ \mathrm { i } ^ { - } \mathrm { j } ) ^ { 2 } \operatorname { P } ( \ \mathrm { i } \ \mathrm { j } \ | \ \theta , \ \mathrm { d } )$ 相关性：其中 $\begin{array} { r l } & { \textbf { f } ( \textbf { \textsc { q } } \mathbf { \textsc { d } } ) = \frac { 1 } { \sigma _ { x } \sigma _ { y } } \frac { 1 - 1 - 1 } { s } \left( \mathbf { \textsc { i } } ^ { - \mu _ { x } } \right) ( \mathbf { j } - \mu _ { y } ) \mathbf { P } ( \mathbf { \textsc { i } } \mathbf { \textsc { j } } | \mathbf { \textsc { q } } \mathbf { \textsc { d } } ) } \\ & { , \mu _ { x } = \frac { 1 - 1 } { s - 0 } \underbrace { \mathbf { i } - 1 } _ { s - 0 } \mathbf { p } ( \textbf { \textsc { i } } \mathbf { j } | \boldsymbol { \theta } , \mathbf { d } ) } \\ & { \mu _ { y } = \frac { 1 - 1 } { s - 0 } \underbrace { \mathbf { i } \frac { 1 - 1 } { s - 1 } } _ { \mathbf { j } - 0 } \mathbf { P } ( \textbf { \textsc { i } } \mathbf { j } | \boldsymbol { \theta } , \mathbf { d } ) } \\ & { \sigma _ { x } ^ { 2 } = \frac { 1 - 1 } { \mathbf { i } - 0 } \left( \mathbf { i } ^ { - \mu _ { x } } \right) ^ { 2 } \frac { 1 - 1 } { \mathbf { j } - 0 } \mathbf { P } ( \textbf { \textsc { i } } \mathbf { j } | \boldsymbol { \theta } , \mathbf { d } ) } \\ & { \sigma _ { y } ^ { 2 } = \frac { 1 - 1 } { s - 0 } \left( \mathbf { j } - \mu _ { y } \right) ^ { 2 } \frac { 1 - 1 } { s - 0 } \mathbf { P } ( \textbf { \textsc { i } } \mathbf { j } | \boldsymbol { \theta } , \mathbf { d } ) } \\ & { \sigma _ { y } ^ { 2 } = \frac { 1 - 1 } { s - 0 } \left( \mathbf { j } - \mu _ { y } \right) ^ { 2 } \frac { 1 - 1 } { s - 0 } \mathbf { P } ( \textbf { i } \mathbf { j } | \boldsymbol { \theta } , \mathbf { d } ) } \end{array}$

# 4 实验结果及分析

本文采集了96张钞票的国徽数字图像其中真钞67张、假钞29张进行了识别分析通过模板匹配进行定位并分别选择两个纹理明显的区域进行纹理分析计算了各个子图的纹理特征。其中对比度（惯性矩）可以反映图像的清晰度和纹理沟纹深浅的程度。纹理沟纹越深其对比度越大视觉效果越清晰；反之对比度小则沟纹浅效果模糊。对比度大的像素对越多这个值越大［6］。所以本文选择惯性矩作为特征参数所有国徽图像子图对比度 （惯性矩）的计算结果如图5所示。

![](images/50cf3b91fe9e9a388b51d6babde71b0befa0f826a3408bb7e6850a1b26be7587.jpg)  
图5 所有国徽图像子图的惯性矩

从图5可以看出真钞和假钞是可区分的如果设定一个阈值 4．8除了 1张成像不太清楚的真钞外其余钞票全都识别正确识别率可以达到 $9 9 \%$ 。但为了确定真钞和假钞的识别正确我们进行判断的条件是：

当惯性矩 ${ > } 5$ 时防伪点为真；当惯性矩 $< 3$ 时防伪点为假；当3≤惯性矩≤5时不能确定真假需结合其颜色信息、国徽阴影和红外图像等其他信息进行识别 $[ 5 , 8 - 9 ]$ 最终的识别率可以达到很高这里不专门论述。按照这样的判定标准实验结果如表1所示96张图片中有 6张图片子图的惯性矩在$3 \sim 5 \div$ 间其余识别正确总识别率为 $93 . 7 5 \%$ 。

表1 试验结果  

<html><body><table><tr><td>防伪 点</td><td>总数</td><td>真币 张张</td><td>假币 张</td><td>真币误识 正确张</td><td>假币误识 正确张</td><td>拒识率 %</td><td>总识别 率%</td></tr><tr><td>国徽</td><td>96</td><td>67</td><td>29</td><td>66</td><td>24</td><td>6.25%</td><td>93. 75%</td></tr></table></body></html>

# 5 结　 论

本文提出了一种纹理分析进行国徽图像识别的方法。首先通过模板匹配对国徽外沿进行圆定位根据圆圈的中心位置确定左右两个纹理特征比较明显的区域作为识别区；然后再根据共生矩方法进行纹理识别。实验结果表明惯性矩能很好地反映国徽图像的网格清晰度对真钞和假钞具有较好的区分性为了使得给出真钞假钞的结论正确我们所设置的阈值分为三部分当惯性矩 ${ > } 5 ,$ 防伪点为真；当惯性矩 $< 3$ 时防伪点为假；当 $\approx$ 惯性矩 $\leqslant 5$ 时拒识；其最后鉴伪识别率近 $94 \%$ 此方法具有钞票识别的新思路和很好的工程实用性。

# 参考文献：

［1］ 欧阳梓华．假币识别方法之改进与完善 ［J］．湖南公安高等专科学校学报20214（3）：79－81  
［2］ HD90假币已波及近 20个城市 蔓延路径浮出水面［OL］． $2 0 0 9 - 0 1 - 1 2 { \cdot }$ ） $[ 2 0 0 9 - 0 1 - 1 2 ]$ ．htp：／news．q $\mathrm { c o m / a / 2 0 0 9 0 1 1 2 / 0 0 1 1 7 4 . ~ h m }$   
［3］ 10省市已发现 HD百元假钞央行进行查证．（ $2 0 0 9 -$ 01－08） ［209－01－08］ ［OL］．htp：／news．enorthcom $\mathbf { \varepsilon } _ { \mathrm { ! } } . \mathbf { \varepsilon } _ { \mathrm { c n } } / \mathbf { \varepsilon } _ { \mathrm { s y s t e m } } / 2 0 0 9 / 0 1 / 0 8 / 0 0 3 8 5 5 8 6 5 . \mathbf { \varepsilon } _ { \mathrm { s h } \mathbf { m } } \mathbf { l }$   
［4］ 何斌马天矛王运坚等 $\mathrm { { V i s u a l C ^ { + } } }$ ＋数字图像处理［M ］．第 2 版．北 京：人 民 邮 电 出 版 社202：491－504  
［5］ 胡学娟．近红外数字图像鉴伪技术研究 ［D］．深圳：深圳大学207：102－106  
［6］ 高士忠．基于灰度共生矩阵的织物纹理分析 ［J］．计算机工程与设计20829（16）：4385－438  
［7］ HaralickRMShanmugamKDinsteinI．Texturalfea-turesforimageclasification［J］．IEETransactionsonSystemsManandCybernetics19733（6）：610－621  
［8］ 胡学娟阮双琛刘承香等．基于小波变换的近红外图像特征提取方法 ［J］．深圳大学学报20623（2）：102－106  
［9］ 刘承香阮双琛胡学娟等．基于浮雕处理的红外数字图像鉴伪技术研究 ［J］．激光与红外20737（6）：561－563