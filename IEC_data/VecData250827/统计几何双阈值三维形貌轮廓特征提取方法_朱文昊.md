# 统计几何双阈值三维形貌轮廓特征提取方法

朱文昊1，王 坎1，杨利平2，郭利霞1，辜小花( 1． 重庆科技大学电子与电气工程学院，重庆 401331; 2． 重庆大学光电技术及系统教育部重点实验室，重庆 400044)

摘要: 针对复杂零件三维点云配准中因存在异常值导致陷入局部最优解的问题，提出了一种统计几何双阈值三维形貌轮廓特征提取方法。首先利用曲率特征直方图初次筛选形貌轮廓特征，再通过拟合曲面获取点云的法向量，并利用法向量的夹角变化再次提取三维形貌轮廓特征。实验结果表明，比较于边界提取( boundary estimation，BE) 算法和基于注意力边缘采样( attention-based pointcloud edge sampling，APES) 算法，特征提取效率分别提升了 $5 0 . 3 \% . 8 1 . 6 \%$ ; 点云数据简化率分别提升了 $1 4 . 7 \% . 2 2 . 3 \%$ ; 配准精度分别提升了 $8 6 . 8 0 \% . 8 1 . 1 5 \%$ ; 配准效率分别提升了 $7 7 . 2 8 \%$ 、$8 0 . 2 7 \%$ 。实验结果验证了该方法在提取复杂形貌轮廓特征和应用于配准的高效性和有效性，为机械零件的自动化、智能化、数字化配准提供了重要理论方法。

关键词: 三维点云; 特征提取; 轮廓点提取; 点云配准中图分类号: TH16; TG502 文献标识码: A

# Statistical Geometric Dual Thresholding 3D Shape Contour Feature Extraction Methods

ZHU Wenhao1，WANG Kan1，YANG Liping2，GUO Lixia1，GU Xiaohua ( 1． School of Electronic and Electrical Engineering，Chongqing University of Science and Technology， Chongqing 401331，China; 2． Key Laboratory of Optoelectronic Technology ＆ Systems，Ministry of Education，Chongqing University，Chongqing 400044，China)

Abstract: A statistical geometry dual threshold 3D morphology contour feature extraction method is proposed to address the problem of getting stuck in local optimal solutions due to outliers in complex part 3D point cloud registration． Firstly，the curvature feature histogram is used to filter the shape profile features for the first time，then the normal vector of the point cloud is obtained by fitting the surface，and the angle change of the normal vector is used to extract the 3D shape profile features again． The experimental results show that compared to the boundary extraction ( BE) algorithm and attention based point cloud edge sampling ( APES) algorithm，the feature extraction efficiency has been improved by $5 0 . 3 \%$ and $8 1 . 6 \%$ ，respectively; The simplification rate of point cloud data has increased by $1 4 . 7 \%$ and $2 2 . 3 \%$ respectively; The registration accuracy has been improved by $8 6 . 8 0 \%$ and $8 1 . 1 5 \%$ respectively; The registration efficiency has increased by $7 7 . 2 8 \%$ and $8 0 . 2 7 \%$ respectively． The experimental results have verified the efficiency and effectiveness of this method in extracting complex morphology contour features and applying it to registration，providing an important theoretical method for the automation，intelligence，and digital registration of mechanical parts．

Key words: 3D point cloud; feature extraction; contour point extraction; point cloud registration

# 0 引言

机械零件的高精度配准技术在航空航天、国防军工和生物医疗等领域有广泛应用，是智能制造的核心研究方向。复杂几何结构的零件在装配和制造过程中［1-2］，需要解决三维点云［3-4］数据量大且存在噪声和异常值的问题。常规方法难以快速精确地提取形貌特征并实现高精度配准，因此，研究高效的点云特征提取方法具有重要意义［5-6］。

高精度配准依赖于有效的形貌轮廓特征提取［7-8］。PCL( point cloud library) 库中的边界提取( BE) 算法通过分析点的法线信息识别边界点，于微波等［5］提出基于轮廓点的三维点云配准方法，提高了配准精度和速度，但在复杂零件中效果不佳。宋庆军等［6］提取点云曲率信息的 Harris 角点特征，以提升配准精度。KIFORENKO 等 9 采用点对特征的投票策略实现模板匹配，适用于仿真散乱堆放场景。YAO 等［10］基于点云曲率相似度改进 ICP( iterative closed point) 算法，适用于非结构化环境。

深度学习方法也在点云特征提取中展现出优势。SI 等［11］将点云数据映射到高维空间捕获特征，并融合不同维度的特征。WANG 等［12］提出基于多尺度点云特征变换器的闭环检测方法，减少信息丢失。YANG等［13］开发了 Hybrid3D，利用 RGB 图像中的互补纹理信息增强特征学习，但在无纹理金属零件的特征提取上效果欠佳。胡江豪等［14］结合多层感知机技术提取重叠区域中的特征，用于配准。GAPSA［15］通过学习几何和语义点云特征，解决了 PointNet 语义信息不完整的问题。由于点云的采集通常伴随着噪声，FCNet［16］在特征域损失指导下学习无噪声特征。WU 等［17］提出基于注意力机制的点云边缘采样方法( APES) ，通过计算点云中点之间的关联图识别和采样边缘点，但对注意力机制中的参数选择较为敏感。

然而，上述方法在处理多样化几何形状和复杂拓扑结构的零件时，特征提取与实际应用的关联度不高，导致配准精度不足。为此，本文提出统计几何双阈值三维形貌轮廓特征提取方法，通过分析点云法向量特征，高精度提取机械零件的关键装配特征，并利用这些特征实现高精度配准。该方法显著提高了配准的准确度与鲁棒性，并降低了装配时间。

# 1 方法介绍

# 1． 1 方法整体原理

图1 为统计几何双阈值三维形貌轮廓特征提取方法示意图。由图1 可知，该方法首先提取描述机械零件形貌的三维点云所有点的曲率特征直方图; 通过设定一个阈值初步提取复杂零件的关键形貌特征，在粗提取的形貌特征基础上，基于复杂零件的几何信息的双阈值形貌提取技术进一步提取零件的关键形貌特征。该方法结合了曲率特征直方图描述子统计的思想以及复杂零件充足的几何信息增强了局部特征的表达，有效保留了零件的关键形貌特征，以保证高精度配准的需求。

# 1．2 形貌轮廓特征初提取

为有效提取机械零件的复杂形貌的关键形貌轮廓特征，通过获取点云的曲率特征直方图后，利用双阈值提取形貌特征。设复杂零件点云中的点 $p _ { i }$ ，其曲率直方图特征 $F ( p _ { i } )$ 可表示为:

$$
F ( \ p _ { i } ) \ = H ( \ p _ { i } ) + { \frac { 1 } { N ( \ p _ { i } ) } } \sum _ { \ p _ { j } \in N ( p _ { i } ) } { \frac { H ( \ p _ { j } ) } { p _ { j } \ - \ p _ { i } } }
$$

$$
N ( p _ { i } ) \ : = \ : \{ p _ { j } \colon \| p _ { j } - p _ { i } \| { \leqslant } R \}
$$

式中: $N ( p _ { i } )$ 为邻域点的数量， $\| p _ { j } - p _ { i } \|$ 为 $p _ { i }$ 和邻居点$p _ { j }$ 之间的欧氏距离， $\mathbf { \Omega } _ { \mathcal { R } }$ 为预定义的邻域半径， ${ \mathcal { H } } ( p _ { i } ) \setminus H$ $( p _ { j } )$ 分别为 $p _ { i }$ 和 $p _ { j }$ 的简化曲率特征直方图统计特征的数量集合，选用 $p _ { i }$ 到 $p _ { j }$ 的法线向量角度 $\alpha$ 、投影向量角度 $\phi$ 、法线之间的角度 $\zeta$ 和局部曲率 $K _ { i j }$ 统计数量集合。将3D 点云分割为 $K$ 个区间，统计特征 $\alpha \cdot \zeta$ 和 $K$ 在每个观测区间特征值的数量得到点 $p _ { i }$ 的 $H ( p _ { i } \phi )$ 为:

$$
H ( \mathbf { \Phi } _ { p _ { i } } ) \ = H _ { \alpha } ( \oplus H _ { \phi } \oplus H _ { \zeta } \oplus H _ { K }
$$

式中: $H _ { \alpha } \mathbf { , } H _ { \phi } \mathbf { , } H _ { \zeta }$ 和 ${ \cal { H } } _ { \scriptscriptstyle { K } }$ 分别为特征 $\alpha \cdot \phi \cdot \zeta$ 和 $K$ 的直方图， $\textcircled{+}$ 为将各直方图相同的观测区间的统计量累加计算。假设 ${ \pmb n } _ { i }$ 和 ${ \pmb n } _ { j }$ 分别为点 $p _ { i }$ 和 $p _ { j }$ 的法向量，特征值 $f _ { i }$ $( p _ { i } p _ { j } )$ 可表示为:

$$
f ( p _ { i } , p _ { j } ) \ = \left\{ \begin{array} { l l } { f _ { \alpha } ( \boldsymbol { p } _ { i } , p _ { j } ) \ = \tan ^ { - 1 } \left( \displaystyle \frac { n _ { j } \cdot \boldsymbol { p } _ { i } p _ { j } } { n _ { i } \cdot \boldsymbol { p } _ { i } p _ { j } } \right) } \\ { \qquad \mathrm { ~ } } \\ { f _ { \alpha } ( \boldsymbol { p } _ { i } , p _ { j } ) \ = \displaystyle \cos ^ { - 1 } ( \boldsymbol { n } _ { i } \cdot \boldsymbol { n } _ { j } ) } \\ { f _ { \zeta } ( p _ { i } , p _ { j } ) \ = \tan ^ { - 1 } \left( \displaystyle \frac { \boldsymbol { n } _ { i } \times \boldsymbol { n } _ { j } \cdot \boldsymbol { p } _ { i } p _ { j } } { { n _ { i } } \cdot { n _ { j } } } \right) } \\ { f _ { K } ( p _ { i } , p _ { j } ) \ = \ \displaystyle \mid K _ { i } - K _ { j } \mid } \end{array} \right.
$$

式中: ·表示向量的点乘， $\times$ 表示向量的叉乘， ${ \pmb { \mathscr { p } } } _ { i } { \pmb { \mathscr { p } } } _ { j }$ 为点 $p _ { i }$ 指向点 $p _ { j }$ 的向量， ${ \bf \nabla } , { \cal K } _ { i }$ 和 $K _ { j }$ 分别为点 $p _ { i }$ 与 $p _ { j }$ 的局部曲率。令 $k _ { 1 } \mathopen { } \mathclose \bgroup \left. \sqrt { k _ { 1 } } \aftergroup \egroup \right. \sqrt { k _ { 2 } }$ 分别为 $p _ { i }$ 与 $p _ { j }$ 的主曲率，则有 $K _ { i } =$ $\operatorname* { m a x } ( \textit { k } _ { 1 } \textit { k } _ { 2 } )$ ， $\boldsymbol { K } _ { j } = \operatorname* { m a x } ( \boldsymbol { k } _ { 1 } \ , \boldsymbol { k } _ { 2 } )$ 。对于每个局部区域，采用最小二乘法平面拟合得到的曲面 $r ( \textit { u } \boldsymbol { \mathscr { v } } )$ 。求解主曲率可简化为求解曲率二次方程 $E k ^ { 2 } - \left( \ L + G \right) k + N = 0$ 的根，其中， $\mathbf { \Omega } _ { E , L , G }$ 和 $N$ 分别为曲面的第一基本形式和第二基本形式的系数，即求解第二基本形式相对于第一基本形式的特征值。对于该曲率二次方程，代入曲面第一基本形式系数和第二基本形式的系数表达即有:

$$
\begin{array} { r } { \left| \begin{array} { c c } { ( \boldsymbol n \bullet r _ { u u } ) \ : - \boldsymbol k ( \boldsymbol r _ { u } \bullet r _ { u } ) } & { ( \boldsymbol n \bullet r _ { v v } ) \ : - \boldsymbol k ( \boldsymbol r _ { u } \bullet r _ { v } ) } \\ { ( \boldsymbol n \bullet r _ { u v } ) \ : - \boldsymbol k ( \boldsymbol r _ { u } \bullet r _ { v } ) } & { ( \boldsymbol n \bullet r _ { v v } ) \ : - \boldsymbol k ( \boldsymbol r _ { v } \bullet \boldsymbol r _ { v } ) } \end{array} \right| = 0 } \end{array}
$$

式中: $r _ { u }$ 和 $\boldsymbol { r } _ { v }$ 为曲面参数化 $r ( \textit { u } \beta )$ 关于参数 $u$ 和 $\mathbf { \sigma } _ { v }$ 的  
偏导数， $\pmb { n }$ 为曲面在点 $p$ 处的单位法向量， $, r _ { u u } \setminus r _ { u v }$ 和 $\boldsymbol { r } _ { v v }$   
为曲面的二阶偏导数。通过式( 5) 解得主曲率 $k _ { 1 } \setminus k _ { 2 }$   
后带入式( 4) 即可得到点 $p _ { i }$ 对于其邻居点 $p _ { j }$ 的4 个特  
征值 ${ \mathcal { A } } _ { { \boldsymbol { P } } _ { i } } ~ { \boldsymbol { \mathbf { \mathit { p } } } } _ { j } )$ ，将每个特征值映射到其对应的 bin 中，统计该特征对应的特征直方图，将所统计的特征直方图通过式( 3) 串联叠加构成每个点 $p _ { i }$ 的简化曲率特征直方图 $H$ $( \mathbf { \Phi } _ { p _ { i } } )$ ，并代入式( 1) 中进行加权平均的方式计算 $F ( p _ { i } )$ ) ，最终通过归一化消除不同点云密度的影响，即可完成曲率特征直方图描述子的提取。归一化曲率直方图特征 $F _ { \mathrm { n o r m } } ( p _ { i } )$ 可表示为:

![](images/54b00738487e9786a854fe0c1a157bf060440422d9d89ae660caf847dd64e7f8.jpg)  
图1 形貌轮廓特征提取算法原理示意图

$$
F _ { \mathrm { n o r m } } ( p _ { i } ) \ = \frac { F ( p _ { i } ) } { \left\| F ( p _ { i } ) \right\| }
$$

式中: $\parallel F ( p _ { i } )$ 是 $F ( p _ { i } )$ 向量的范数。对于复杂零件点云 $P$ ，在获取曲率直方图特征后设定阈值 $T$ ，基于曲率直方图阈值特征描述的轮廓点云 $F _ { \mathrm { P r o f i l e } } ^ { \prime }$ 可表示为:

$$
F _ { \mathrm { p r o f i l e } } ^ { \prime } = \{ p _ { i } \in P \mid \operatorname* { m a x } ( { F } _ { \mathrm { n o r m } } ( { p } _ { i } ) ) > T \}
$$

由式( 7) 可知，局部曲率以及投影向量角度的统计上可大量筛选剔除非轮廓特征点、离群点和噪声点，可有效提升后续进一步特征优化计算效率、准确性和鲁棒性。

# 1．3 形貌轮廓特征二次优化

通过式( 7) 获取到轮廓点云 $F _ { \mathrm { P r o f i l e } } ^ { \prime }$ 后，进一步利用零件点云的几何信息二次提取形貌轮廓特征。由于点的法向量可以凸显点所在的几何表面的曲率变化程度，如图2 所示，点云模型的表面在出现起伏或波动的情况下，会导致点的法向量发生相应的改变。选取的参考点及其周围的邻域点的法向量倾向于指向一致的方向，展现出较低的方向性变化即为平面，构件的侧边界的法向量的分布表现出显著的方向性变化即为棱。为此，为估计三维点云中每个点的法向量，采用拟合曲面法对所求点所在区域进行曲面拟合，如图3 所示。

![](images/6e0b340012183fc5208123a7f3d5c07168e1e2eae0506fff7a12b3216c560766.jpg)  
图2 点云法向量示意图

![](images/6e0719b4b0f973cb09315184945949c8a0e26c1d0135e11b7eca2956cc37a969.jpg)  
图3 点云法向量示意图

由图3 可知， $\mathcal { P }$ 点是三维点云表面上的一点， ${ \pmb n } =$ $\left( \boldsymbol { A } ~ , \boldsymbol { B } ~ , \boldsymbol { C } \right)$ 是 $P$ 点的法向量， ${ \mathbf { \Omega } } _ { \mathcal { S } }$ 是根据 $P$ 点的法向量采用最小二乘法拟合的平面。设三维平面方程 $s$ 为:

$$
f ( x \ y \ z ) \ = A x + B y + C z - D = 0
$$

此时， $\mathcal { P }$ 点的某邻域范围点 $Q _ { i }$ 到拟合平面 $s$ 的距离设为 $d _ { i }$ ，则有:

$$
d _ { i } = { \frac { \mid A x _ { i } + B y _ { i } + C z _ { i } - D \mid } { \sqrt { A ^ { 2 } + B ^ { 2 } + C ^ { 2 } } } }
$$

当所有邻域点到平面的距离总和达到最小值时，该平面被认为是最佳拟合平面。即有:

$$
e \ = \ \operatorname* { m i n } ( \ \sum _ { i \ = 1 } ^ { n } d _ { i } ^ { 2 } )
$$

拟合平面 $s$ 会经过包含 $P$ 点在内的邻域点的重心$( \overline { { x } } \ \overline { { y } } \ \bar { z } )$ ，即:

$$
A { \big ( } x - { \overline { { x } } } { \big ) } + B { \big ( } y - { \overline { { y } } } { \big ) } + C { \big ( } z - { \overline { { z } } } { \big ) } - D = 0
$$

此时问题转化为求式( 8) 的极值点，即对 $d _ { i }$ 求偏导为:

$$
\frac { \partial e } { \partial d _ { i } } = 2 \sum _ { i = 1 } ^ { n } \bigg ( \frac { \mid A x _ { i } + B y _ { i } + C z _ { i } - D \mid } { \sqrt { A ^ { 2 } + B ^ { 2 } + C ^ { 2 } } } \bigg ) = 0
$$

即:

$$
D = \frac { \sum _ { i = 1 } ^ { n } x _ { i } } { n } A + \frac { \sum _ { i = 1 } ^ { n } y _ { i } } { n } B + \frac { \sum _ { i = 1 } ^ { n } z _ { i } } { n } C
$$

由式( 9) 和式( 13) 可得:

$$
d _ { i } \ = \ \frac { \mid A ( \ x _ { i } \ - \overrightarrow { x } ) \ + B ( \ y _ { i } \ - \overrightarrow { y } ) \ + C ( \ z _ { i } \ - \overrightarrow { z } ) \mid } { \sqrt { A ^ { 2 } + B ^ { 2 } + C ^ { 2 } } }
$$

与此同时再分别对 $x , y , z$ 求偏导，并令 $\Delta x _ { i } = x _ { i }$ －

$\overline { { x } } \Delta y _ { i } = y _ { i } - \overline { { y } } \Delta z _ { i } = z _ { i } - \overline { { z } }$ ，可得:

$$
\left( \begin{array} { l l l } { \sum \Delta x _ { i } \Delta x _ { i } } & { \sum \Delta x _ { i } \Delta y _ { i } } & { \sum \Delta x _ { i } \Delta z _ { i } } \\ { \sum \Delta x _ { i } \Delta y _ { i } } & { \sum \Delta y _ { i } \Delta y _ { i } } & { \sum \Delta y _ { i } \Delta z _ { i } } \\ { \sum \Delta x _ { i } \Delta z _ { i } } & { \sum \Delta y _ { i } \Delta z _ { i } } & { \sum \Delta z _ { i } \Delta z _ { i } } \end{array} \right) \left( \begin{array} { l } { A } \\ { B } \\ { C } \end{array} \right) = \lambda \left( \begin{array} { l } { A } \\ { B } \\ { C } \end{array} \right)
$$

即:

$$
\lambda = \left( \begin{array} { c c c } { \sum \Delta x _ { i } \Delta x _ { i } } & { \sum \Delta x _ { i } \Delta y _ { i } } & { \sum \Delta x _ { i } \Delta z _ { i } } \\ { \sum \Delta x _ { i } \Delta y _ { i } } & { \sum \Delta y _ { i } \Delta y _ { i } } & { \sum \Delta y _ { i } \Delta z _ { i } } \\ { \sum \Delta x _ { i } \Delta z _ { i } } & { \sum \Delta y _ { i } \Delta z _ { i } } & { \sum \Delta z _ { i } \Delta z _ { i } } \end{array} \right)
$$

由此可知， ${ \mathbf { \Omega } } , { \mathcal { P } }$ 点的法向量即为 $\lambda$ 的最小特征值对应的特征向量。通过选用朝向一致性法向量，在密集的点云数据表面，相邻点的法向量应呈现出平滑连续的特性。根据式( 11) $\sim$ 式( 16) 的法向量计算可以判断，拟合平面会与正常点云拟合平面表现出显著的变化趋势，与点云中的离散点和异常点具有突变的趋势而可以去除，从而提高点云配准的准确性和鲁棒性。然而，由于采样和计算误差等原因，点云的法向量方向可能不一致，相邻点的法向量方向可能相反，即可能存在二义性问题。为此，选定一个点的法向量方向作为参考正方向，判断该点与相邻点是否存在二义性，即:

$$
\pmb { n } _ { i } \cdot \pmb { n } _ { j } > 0
$$

式中: ${ \pmb n } _ { i }$ 为点云中点 $Q _ { i }$ 的法向量， ${ \pmb n } _ { j }$ 为点 $Q _ { i }$ 的相邻点$Q _ { j }$ 的法向量。当 $\pmb { n } _ { i } \cdot \pmb { n } _ { j } < 0$ 时， $\mathbf { \mathcal { A } } _ { i }$ 与 $Q _ { j }$ 的法向量存在二义性，则需要改变 $Q _ { i }$ 法向量方向，并令 $Q _ { j }$ 为当前点，继续寻找当下当前点的相邻点，重复上述步骤直到遍历点云中所有点，即可完成三维点云中所有点的法向量定向。

在提取点云法向量基础上，选取一个点作为查询点，并分析该点及其 $k$ 邻域点的法向量，记为 ${ \pmb n } _ { 0 } \ { \pmb n } _ { 1 } \ \cdots \ { \pmb n } _ { k }$ 。与此同时，计算查询点与邻域点法向量夹角 $\theta _ { i }$ ，并求其平均值 $m _ { \theta }$ 和标准差 $\sigma$ ，以用来作为判断点云中特定点是否属于形貌的初步标准。均值 $m _ { \theta }$ 及标准偏差 $\sigma$ 可表示为:

$$
m _ { _ { \theta } } \ = \ { \frac { \displaystyle \sum _ { i = 1 } ^ { k } \operatorname { a r c c o s } \biggl ( \frac { \pmb { n } _ { i } \ { } ^ { \bullet } \pmb { n } _ { j } } { | \pmb { n } _ { i } \ | \times \ | \ \pmb { n } _ { j } \ | } \biggr ) } { k } }
$$

$$
\sigma = \sqrt { \frac { 1 } { n } \sum _ { i = 1 } ^ { k } \left( \operatorname { a r c c o s } \biggl ( \frac { \pmb { n } _ { i } \cdot \pmb { n } _ { j } } { \mid \pmb { n } _ { i } \mid \times \ \mid \pmb { n } _ { j } \mid } \biggr ) - m _ { \theta } \right) ^ { 2 } }
$$

式中: $i = 1 \ 2 \ , \cdots \ k$ 。标准偏差 $\sigma$ 越大则表形貌起伏越大，越小则表明形貌起伏程度较轻。将标准偏差大于特定阈值的点认定为弱形貌点。随后，可通过计算法向量夹角 $\theta _ { i }$ 中的最大值 $\theta _ { \mathrm { m a x } }$ 对弱形貌的点进行进一步的精细判断。为实现更灵活且稳定的形貌点检测，本方法采用双阈值策略，通过设置两个阈值 $T _ { \scriptscriptstyle 1 }$ 和 $T _ { 2 }$ ，限定最大法向量夹角 $\theta _ { \mathrm { m a x } }$ ，即可提取全面且精确的形貌点云 $\boldsymbol { F _ { \mathrm { m } } }$ 为:

$$
F _ { _ { m } } = \{ p _ { i } \in F _ { _ { m } } ^ { \prime } \mid T _ { _ { 1 } } < \theta _ { _ { \operatorname* { m a x } } } \leqslant T _ { _ { 2 } } \}
$$

如果一个点的最大法向量夹角 $\theta _ { \mathrm { m a x } }$ 超过了阈值 $T _ { \scriptscriptstyle 1 }$ 且未超过阈值 $T _ { 2 }$ ，则将其确定为形貌点; 否则，该点被视作非形貌点。通过对模型中每个点重复上述步骤，可以实现对形貌点云 $F _ { \mathrm { p r o f i l e } } ^ { \prime }$ 的全面且精确的形貌提取得到 $F _ { \mathrm { p r o f i l e } }$

# 2 实验验证

本节按照1．1 节所提出的特征提取方法原理示意图设计了形貌轮廓特提取实验，并与 BE 和 APES 形貌轮廓特征提取算法进行对比，以验证本文所提方法的有效性、准确性和时效性。在此基础上设计了使用全点云与上述3 种方法提取到的特征点云进行的 ICP 配准对比实验，以验证本文所提方法应用于配准的有效性、准确性和时效性。

本节采用 ABC 数据集［18］进行实验验证。该数据集汇集了大量计算机辅助设计( CAD) 模型，总数达到百万级别，涵盖了众多典型的工业零部件。这些模型由显式参数化的曲线和曲面定义，蕴含了丰富的几何信息，精准捕捉了模型的形态特征。

如图 4 所 示，利 用 CloudCompare 软 件 的 SamplePoints 功能，设定采样点数为 30 000，对 CAD 模型执行随机采样操作。采样完成的点集以 PCD 格式保存，为后续进行模型识别和配准提供了便捷的数据处理基础。为验证本文所提方法的泛用性，从中选择4 种类型迥异的模型( Part-A、Part-B、Part-C 和 Part-D) ，如图5 所示。为了保证本文实验数据的统一和数据的公平对比，本文的所有实验皆在同一台设备上实现，其配置信息如表1 所示。

![](images/0676763c03d82d0b036383c05afae3f96c0ef81dbf18d29170a3c24d5db3a47e.jpg)  
图 4 CAD 模型图

![](images/d7cf8256638233d66bb23e0f73893f823e7c25afa538dd830c1463a8c75fdf38.jpg)

图5 零件点云表1 实验设备配置信息  

<html><body><table><tr><td>配置名称</td><td>配置参数</td></tr><tr><td>操作系统</td><td>Ubuntu</td></tr><tr><td>处理器</td><td>11th Gen Intel(R)Core(TM)i7-1800H</td></tr><tr><td>运行内存</td><td>16.0GB</td></tr><tr><td>主频</td><td>2.30 GHz</td></tr><tr><td>显卡</td><td>RTX3060</td></tr><tr><td>显示缓存</td><td>8GB</td></tr></table></body></html>

# 2．1 形貌轮廓特征提取实验

由式( 18) 和式( 19) 可知，选择合适的 $k$ 值对于形貌提取的效率和准确性至关重要。 $k$ 值设定过大可能会增加计算时间，从而影响整体的处理效率。相反， $\mathbf { \mathcal { k } }$ 值过小可能导致采样点数量不足，使得结果容易受到干扰点的影响。为验证不同 $k$ 值对形貌轮廓特征的提取是否存在上述影响，以及选取一个合适的 $k$ 值为后续实验提供可靠的实验基础，本文设计了 $k$ 值为 10、20、30 以及50 时，提取零件 Part-B 的形貌轮廓特征点的效果对比实验，如图6 所示。

![](images/5935a8cd45727cf482febeb98a3e1efa0519ec04d566ac09faa6768f56f716b0.jpg)  
图6 不同 $k$ 值的形貌轮廓特征提取效果图

由图6a 可知，当 $k$ 值较低时，提取出的形貌点较为稀疏，缺乏细节。随着 $k$ 值的增加，形貌点的提取变得更加丰富和准确，如图6b 和图6c 所示，当 $k$ 值过大$( \geqslant 5 0 )$ 时，会将模型中的空心圆柱及其周围的圆环点云识别为形貌点导致误判，如图 6d 所示。对比图 6b和图6c 可知，图6b 的形貌提取效果较为理想，形貌特征清晰可见，同时也避免了对配准无效的内部点的过度提取，故而，本文取 $k = 2 0$ 以完成双阈值形貌提取过程。

为验证本文所提的形貌轮廓提取方法的有效性，根据图1 所示的形貌轮廓特征提取原理示意图，针对不同零件的表面形貌的三维点云，得到曲率特征直方图和初步提取的形貌轮廓特征如图 7 ～ 图 10 所示。其中图 7a ～ 图 10a 分别为图 5a ～ 图 5d 得到曲率特征直方图。由于 Part-D 零件曲面点云较多，零件点云往往分布于更高的曲率特征值附近，将阈值设置为 40时，形貌轮廓特征提取效果较差，存在特征提取不充分，对于异常值的处理不够彻底的情况，因此分别对图5a ～ 图 5d 的 4 个零件点云设定阈值为 40、40、40 和50，由图7a ～图10a 的曲率直方图得到随机采样点云初步提取的形貌轮廓特征如图7b ～图10b 所示。

![](images/e62ad669c444c13ed20d766f8cc18f21e56692167cfdc1b02aedd5adea643df5.jpg)  
图7 Part-A 的形貌轮廓特征提取

![](images/c32df3c66226986119a4c981b0ee1998304d41d1ddeadab79e3ca7fa3de245d9.jpg)  
图8 Part-B 的形貌轮廓特征初提取

![](images/1cb030466c21c51797fb78ffeb69fa0303feaac9f144803ec4fce3d3b78e3202.jpg)  
图9 Part-C 的形貌轮廓特征初提取

![](images/bc563e1fea9b98cc19909e6df7480e054beb1bc6c6b405ed40c42fe900d2a490.jpg)  
图10 Part-D 的形貌轮廓特征初提取

由图 $7 \mathrm { b } \sim$ 图10b 可以直观看到，通过利用曲率特征直方图统计的初步提取形貌特征方法筛除了大量非轮廓点、离散点和异常点等的非形貌点，可以有效地减少对后续利用双阈值限定法向量夹角进一步提取形貌特征的干扰。针对图 $7 \mathrm { b } \sim$ 图 10b 所示的初步提取的形貌特征，取邻域点数 $k = 2 0$ ，得到二次提取的形貌轮廓特征如图 7c ～ 图 10c 所示。由图 7c ～ 图 10c 可知，通过二次优化可以将点云轮廓附近的一些非形貌点进一步剔除，进一步降低了轮廓点云的密度，在保留关键形貌特征的同时，提高了特征提取的准确性，验证了该方法在复杂零件形貌轮廓提取的有效性和鲁棒性。

为了验证本文方法的有效性和准确性，采用 PCL库中 的 边 界 估 计 ( boundary estimation，BE) 方 法 与APES 方法［17］提取的图5 所示的不同零件的形貌轮廓特征，如图11 ～图14 所示。

![](images/60397bc3bddf680a654e9a0f486479736ead257c0c94fc8885dc3d5618217667.jpg)  
( a) BE 方法提取的特征 ( b) APES 方法提取的形貌特征

![](images/0f94a75b7fad15c4e802610833fb33c1016dab59a1fcf52bbec441198f6e3512.jpg)  
图11 Part-A 的形貌轮廓特征提取

![](images/e87b3d5e182bfa96799b62e4f1aea7f13d557bacc3da027034a4850ddaaf615c.jpg)  
( a) BE 方法提取的特征 ( b) APES 方法提取的形貌特征  
( a) BE 方法提取的特征 ( b) APES 方法提取的形貌特征

![](images/b27f6e49f8d475a84ee45f2761b2ae0480d95861edff8a2026531b7df1e078f4.jpg)  
图12 Part-B 的形貌轮廓特征提取  
图13 Part-C 的形貌轮廓特征提取  
( a) BE 方法提取的特征 ( b) APES 方法提取的形貌特征  
图14 Part-D 的形貌轮廓特征提取

分别对比图 7c ～ 图 10c 与图 11 ～ 图 14 两种方法的提取的形貌可知，采用 BE 算法提取 Part-A、Part-B、Part-C 和 Part-D 的形貌点时，形貌特征均存在大量非形貌点，且非形貌点与周围的点变得稀疏，难以提供有用信息，可能干扰后续配准，导致精度不足。APES 算法提取 Part-A、Part-B、Part-C 和 Part-D 的形貌轮廓点云时，Part-A 中间部分的点云被过滤掉，部分有效特征与非形貌点一并去除，影响高精度配准。此外，Part-A、Part-B、Part-C 和 Part-D 提取的形貌轮廓特征中仍含有较多非形貌点，提取效果不佳。

采用本文方法、APES 算法和 BE 算法分别对 4 种不同零件点云进行30 次形貌提取，结果平均值如表 2所示。本文方法提取的形貌特征点数量，简化率保持在 $7 7 . 3 \%$ 以上，相比 APES 算法提高 $2 2 . 3 \%$ ，相比 BE算法提高 $1 4 . 7 \%$ 。在计算时间和资源消耗方面，如图15 所示，本文方法处理30 000 个点的点云数据平均耗时 $1 0 . 7 8 \mathrm { ~ s ~ }$ 以内，比 APES 算法效率提高 $8 1 . 6 \%$ ，比 BE算法提高 $5 0 . 3 \%$ ，展示了在计算资源消耗与效率方面的优势。

表2 形貌轮廓特征提取简化效果统计表  

<html><body><table><tr><td rowspan="2">零件 点云</td><td rowspan="2">原始 点数</td><td colspan="2">本文方法</td><td colspan="2">APES算法</td><td colspan="2">BE算法</td></tr><tr><td>特征点 数量</td><td>简化率 1%</td><td>特征点 数量</td><td>简化率 1%</td><td>特征点 数量</td><td>简化率 1%</td></tr><tr><td>Part-A</td><td>30000</td><td>6409</td><td>78.6</td><td>13 077</td><td>56.4</td><td>10 157</td><td>66.1</td></tr><tr><td>Part-B</td><td>30000</td><td>6808</td><td>77.3</td><td>10 201</td><td>66.0</td><td>11 973</td><td>60.1</td></tr><tr><td>Part-C</td><td>30000</td><td>4646</td><td>84.5</td><td>14 161</td><td>52.8</td><td>10 201</td><td>66.0</td></tr><tr><td>Part-D</td><td>30000</td><td>6635</td><td>77.9</td><td>13 758</td><td>54.1</td><td>9854</td><td>67.2</td></tr></table></body></html>

![](images/8739adc0e164a86df7fb1f0e9a6b9265ae82da378457f72243d0101cbacaa381.jpg)  
图15 本文方法与 APES 算法和 BE 算法耗时对比图

# 2． 2 配准实验

为验证本文提出的特征提取方法在点云配准上的有效性、准确性和鲁棒性，采用全点云与不同方法提取不同零件得到的特征点云通过 ICP 算法进行配准的结果如图16 ～图19 所示，其中浅色为目标点云，深色为配准后得到的点云。利用本文方法实现的三维形貌轮廓特征配准后的空间位姿关系如图 16d ～ 图 19d 所示。同时以均方根误差( RMSE) 和平均耗时( Time) 作为评价指标，实验结果如图20 所示。

由图16 ～ 图 19 可见，采用全点云、BE 算法轮廓点云和 APES 算法轮廓点云进行配准均出现不同程度的误差，甚至配准失败的情况。相比之下利用本文方法提取的零件三维形貌特征成功的进行了配准，得到较小的均方根误差，如图 20a 所示。采用全点云的ICP 方法在点集变换过程中表现出显著误差，导致目标点集与变换后点集间配准失败。其失败的根本原因在于，当原始点集与目标点集的位姿差异较大时，直接应用 ICP 算法可能会使算法陷入局部最优，并错误地将其认定为最终结果。此外，由于点云数据量的庞大，该方法在配准速度方面也表现不佳。

![](images/fe5228bb12ed264241a377f90ec2b0c55e24c03528baf7a7373c8e1e01446fee.jpg)

40 40 梵  
2 20 开 220  
00  
10 100 -10 -100 10 0 -10 100 10  
Y/mm X/mm Y/mm X/mm  
( c) BE 算法轮廓点云 ( d) 本文方法轮廓点云  
1.No-features 2.APES-features 3.BE-features 4.Oursmethod12 1010 8 7  
L 8 GR 62、4 4 30Part-A Part-B Part-C Part-D Part-A Part-B Part-C Part-D( a) 均方根误差对比图 ( b) 平均耗时对比图

![](images/e8f09c3bed6c94951a7447bc993c7d898b83a9c99befad9f5055289a316b5ec9.jpg)  
图 16 Part-A 的配准实验

![](images/daed5711a542e6d5fa50e546fe814f3ec56ccb7f147c7ea651fba905e42401e9.jpg)  
图 17 Part-B 的配准实验

![](images/3f3818770bf42d948338c7bafec35e61642589584be4f1ac91b6b09bfb1a4ab9.jpg)  
图 18 Part-C 的配准实验  
图 19 Part-D 的配准实验

采用 BE 算法提取的形貌轮廓特征描述子进行配准虽有一定改善，但未能有效捕捉零件的关键特征，导致配准精度不足，失败率较高。APES 算法提取的特征描述子降低了均方根误差，但相较于本文提出的方法仍有不足，部分有效特征被去除，且存在大量非特征点，导致精度较低。相比之下，本文提出的统计几何双阈值三维形貌轮廓特征提取方法在配准精度和效率方面均显著优于其他方法，仅极少数情况下发生配准失败，且配准时间大幅减少。

本文提出的统计几何双阈值三维形貌轮廓特征提取方法，在均方根误差及整体耗时均展现出显著提升。在图 $2 0 \mathrm { b }$ 中展示的结果，该方法零件处理时间不超过1 s，符合实验性能要求。在 RMSE 误差精度方面，相较于采用 BE 特征描述子和 APES 特征描述子的方法，本文方法的均方根误差精度平均提升了 $8 6 . 8 0 \%$ 和$8 1 . 1 5 \%$ ，配准效率提升了 $7 7 . 2 8 \%$ 和 $8 0 . 2 7 \%$ 。综合分析表明，统计几何双阈值三维形貌轮廓特征提取方法在提高配准精度和减少配准时间方面取得了显著成效，成功满足了实验的精度和效率双重要求。

# 3 结论

为解决智能制造中复杂机械零件点云配准的挑战，本文提出了统计几何双阈值三维形貌轮廓特征提取方法，旨在提高配准精度、鲁棒性和效率。使用ABC 数据集中的复杂零件 CAD 模型采样得到的点云数据进行特征提取实验以及点云配准实验验证。实验结果显示，本方法在特征提取实验中表现出更快速准确的特征提取能力，在处理 30 000 个点的点云数据时，平均时间不超过 10. 78 s，相较于其他方法的效率提高了明显; 在配准实验中，本文方法提取的形貌轮廓特征相较于其他方法，配准精度提升了 $8 6 . 8 0 \%$ ～$8 1 . 1 5 \%$ ，配准效率提升了 $7 7 . 2 8 \% \sim 8 0 . 2 7 \%$ 。所有实验结果均表明，提取形貌轮廓特征应用于点云配准具有显著的优势，为机械零件的自动化、智能化、数字化配准提供了有效的理论方法。

# ［参考文献］

［1］ ZHANG J，DAI X，WU W R，et al． Micro-vision based high-precision space assembly approach for trans-scale microdevice: the CFTA example［J］． Sensors，2023，23( 1) : 450．   
［2］ZHANG J Y，QIU Y Y，DUAN X C，et al． An improved robust method for pose estimation of cylindrical parts with interference features［J］． Sensors，2019，19( 10) : 2234．   
［3］ WANG K，WANG D H，YUAN G，et al． Digitalization method of microassembly space consisting of trans-scale mibly［J］． Measurement，2022，195: 111073．   
［4］ WANG K，BAO L P，WANG D H． Digital microassembly method for trans-scale microparts based on digital microassembly space［J］． International Journal of Advanced Manufacturing Technology，2022，122( 5 － 6) : 2719 － 2744．   
［5］于微波，钱柏竹，杨宏韬，等． 基于轮廓点的三维点云配准 ［J］． 组合机床与自动化加工技术， $2 0 2 2 ( \ 1 2 ) : 1 \ - 5$ ．   
［6］宋庆军，高义强，姜海燕，等． 融合角点检测的点云配准研 究［J］． 组合机床与自动化加工技术， $2 0 2 4 ( 5 ) : 1 7 - 2 0$ ．   
［7］LI Z X，LI X B，CHEN S H，et al． Samfenet: self-attention based multi-scale feature fusion coding and edge information constraint network for 6D pose estimation［J］． Mathematics， 2022，10( 19) : 3671．   
［8］CAO F L，ZHU L，YE H L，et al． A new method for point cloud registration: adaptive relation-oriented convolution and recurrent correspondence-walk［J］． Knowledge-Based Systems，2024，284: 111280．   
［9］ KIFORENKO L，DROST B，TOMBARI F，et al． A performance evaluation of point pair features［J］． Computer Vision and Image Understanding，2018，166: 66 － 80．   
［10］YAO Z W，ZHAO Q X，LI X F，et al． Point cloud registration algorithm based on curvature feature similarity［J］． Measurement，2021，177: 109274．   
［11］SI H Y，WEI X Y． Feature extraction and representation learning of 3D point cloud data［J］． Image and Vision Computing，2024，142: 104890．   
［12］ WANG S H，ZHENG D K，LI Y C． LiDAR-SLAM loop closure detection based on multi-scale point cloud feature transformer［J］． Measurement Science and Technology， 2023，35( 3) : 036305．   
［13］YANG B B，HUANG Z Y，LI Y J，et al． Hybrid3d: learning 3D hybrid features with point clouds and multi-view images for point cloud registration［J］． Science China Information Sciences，2023，66( 7) : 172101．   
［14］胡江豪，王丰． 匹配几何特征的部分重叠点云配准算 法研究［J］． 计算机工程与应用，2024，60 ( 12 ) : 252 － 260．   
［15］LIU H J，DU J X，ZHANG Y，et al． Extracting geometric and semantic point cloud features with gateway attention for accurate 3D object detection［J］． Engineering Applications of Artificial Intelligence，2023，123: 106227．   
［16］WANG X T，CUI W X，XIONG R Q，et al． Fcnet: learning noise-free features for point cloud denoising［J］． IEEE Transactions on Circuits and Systems for Video Technology， 2023，33( 11) : 6288 － 6301．   
［17］WU C Z，ZHENG J W，PFROMMER J，et al． Attentionbased point cloud edge sampling［C］/ /Proceedings of the IEEE /CVF Conference on Computer Vision and Pattern Recognition，2023: 5333 － 5343．   
［18］KOCH S，MATVEEV A，JIANG Z，et al． ABC: a big cad model dataset for geometric deep learning［C］/ /The IEEE Conference on Computer Vision and Pattern Recognition， 2019: 9601 － 9611． ( 编辑

祝智铭)